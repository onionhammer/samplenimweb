/* Generated by Nim Compiler v0.10.2 */
/*   (c) 2014 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: MacOSX, amd64, clang */
/* Command for C compiler:
   clang -c  -w  -I/Users/erikoleary/lib/Nim/lib -o /Users/erikoleary/Documents/onion-nimrod/sampleweb/nimcache/stdlib_asyncdispatch.o /Users/erikoleary/Documents/onion-nimrod/sampleweb/nimcache/stdlib_asyncdispatch.c */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <stdio.h>

#include <string.h>

#include <sys/socket.h>

#include <netdb.h>

#include <errno.h>

#include <netinet/in.h>

#include <arpa/inet.h>

#include <setjmp.h>
typedef struct futureHEX3Aobjecttype160094 futureHEX3Aobjecttype160094;
typedef struct futurebaseHEX3Aobjecttype160014 futurebaseHEX3Aobjecttype160014;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct Exception Exception;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tcell45335 tcell45335;
typedef struct tcellset45347 tcellset45347;
typedef struct tgcheap47416 tgcheap47416;
typedef struct tcellseq45351 tcellseq45351;
typedef struct tpagedesc45343 tpagedesc45343;
typedef struct tmemregion27610 tmemregion27610;
typedef struct tsmallchunk26840 tsmallchunk26840;
typedef struct tllchunk27604 tllchunk27604;
typedef struct tbigchunk26842 tbigchunk26842;
typedef struct tintset26817 tintset26817;
typedef struct ttrunk26813 ttrunk26813;
typedef struct tavlnode27608 tavlnode27608;
typedef struct tgcstat47414 tgcstat47414;
typedef struct pdispatcherbaseHEX3Aobjecttype161015 pdispatcherbaseHEX3Aobjecttype161015;
typedef struct TY161016 TY161016;
typedef struct TY161017 TY161017;
typedef struct TY161264 TY161264;
typedef struct TY161267 TY161267;
typedef struct futureHEX3Aobjecttype165748 futureHEX3Aobjecttype165748;
typedef struct futureHEX3Aobjecttype166851 futureHEX3Aobjecttype166851;
typedef struct TY166844 TY166844;
typedef struct pdispatcherHEX3Aobjecttype164217 pdispatcherHEX3Aobjecttype164217;
typedef struct selectorHEX3Aobjecttype161440 selectorHEX3Aobjecttype161440;
typedef struct selectorkeyHEX3Aobjecttype161426 selectorkeyHEX3Aobjecttype161426;
typedef struct pdataHEX3Aobjecttype164211 pdataHEX3Aobjecttype164211;
typedef struct TY164213 TY164213;
typedef struct valueerror3249 valueerror3249;
typedef struct readyinfo161423 readyinfo161423;
typedef struct TY162136 TY162136;
typedef struct TY165709 TY165709;
typedef struct TY165712 TY165712;
typedef struct TY165715 TY165715;
typedef struct oserror3233 oserror3233;
typedef struct systemerror3229 systemerror3229;
typedef struct TY166712 TY166712;
typedef struct TY166823 TY166823;
typedef struct TY168039 TY168039;
typedef struct futureHEX3Aobjecttype168263 futureHEX3Aobjecttype168263;
typedef struct TY169865 TY169865;
typedef struct TY169878 TY169878;
typedef struct TY171414 TY171414;
typedef struct TSafePoint TSafePoint;
typedef struct futureHEX3Aobjecttype176454 futureHEX3Aobjecttype176454;
typedef struct futureHEX3Aobjecttype179452 futureHEX3Aobjecttype179452;
typedef struct TY179445 TY179445;
typedef struct asyncsocketdesc175202 asyncsocketdesc175202;
typedef struct futureHEX3Aobjecttype180688 futureHEX3Aobjecttype180688;
typedef struct TY182265 TY182265;
typedef struct TY185896 TY185896;
typedef struct futureHEX3Aobjecttype222048 futureHEX3Aobjecttype222048;
typedef struct tbasechunk26838 tbasechunk26838;
typedef struct tfreecell26830 tfreecell26830;
typedef struct table161446 table161446;
typedef struct keyvaluepairseq161449 keyvaluepairseq161449;
typedef struct keyvaluepair161452 keyvaluepair161452;
typedef N_NIMCALL_PTR(void, TY3089) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3094) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3089 marker;
TY3094 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (void* ClEnv);
void* ClEnv;
} TY160015;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  futurebaseHEX3Aobjecttype160014  {
  TNimObject Sup;
TY160015 Cb;
NIM_BOOL Finished;
Exception* Error;
NimStringDesc* Errorstacktrace;
NimStringDesc* Stacktrace;
NI Id;
NimStringDesc* Fromproc;
};
struct  futureHEX3Aobjecttype160094  {
  futurebaseHEX3Aobjecttype160014 Sup;
};
typedef N_CLOSURE_PTR(void, TMP329) (void);
struct  tcell45335  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq45351  {
NI Len;
NI Cap;
tcell45335** D;
};
struct  tcellset45347  {
NI Counter;
NI Max;
tpagedesc45343* Head;
tpagedesc45343** Data;
};
typedef tsmallchunk26840* TY27622[512];
typedef ttrunk26813* ttrunkbuckets26815[256];
struct  tintset26817  {
ttrunkbuckets26815 Data;
};
struct  tmemregion27610  {
NI Minlargeobj;
NI Maxlargeobj;
TY27622 Freesmallchunks;
tllchunk27604* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk26842* Freechunkslist;
tintset26817 Chunkstarts;
tavlnode27608* Root;
tavlnode27608* Deleted;
tavlnode27608* Last;
tavlnode27608* Freeavlnodes;
};
struct  tgcstat47414  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap47416  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq45351 Zct;
tcellseq45351 Decstack;
tcellset45347 Cycleroots;
tcellseq45351 Tempstack;
NI Recgclock;
tmemregion27610 Region;
tgcstat47414 Stat;
};
typedef N_CLOSURE_PTR(void, TMP330) (void);
struct TY161017 {
NF Field0;
futureHEX3Aobjecttype160094* Field1;
};
struct  pdispatcherbaseHEX3Aobjecttype161015  {
  TNimObject Sup;
TY161016* Timers;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY161264 {
void* Field0;
TY161267* Field1;
};
struct TY161267 {
char dummy;
};
typedef N_CLOSURE_PTR(void, TMP365) (void);
struct  futureHEX3Aobjecttype165748  {
  futurebaseHEX3Aobjecttype160014 Sup;
NimStringDesc* Value;
};
typedef N_CLOSURE_PTR(void, TMP369) (void);
typedef N_CLOSURE_PTR(void, TMP370) (void);
struct TY166844 {
NimStringDesc* Field0;
int Field1;
};
struct  futureHEX3Aobjecttype166851  {
  futurebaseHEX3Aobjecttype160014 Sup;
TY166844 Value;
};
typedef N_CLOSURE_PTR(void, TMP373) (void);
typedef N_CLOSURE_PTR(void, TMP374) (void);
struct  pdispatcherHEX3Aobjecttype164217  {
  pdispatcherbaseHEX3Aobjecttype161015 Sup;
selectorHEX3Aobjecttype161440* Selector;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClPrc) (int fd, void* ClEnv);
void* ClEnv;
} tcallback164204;
struct  pdataHEX3Aobjecttype164211  {
  TNimObject Sup;
int Fd;
TY164213* Readcbs;
TY164213* Writecbs;
};
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  valueerror3249  {
  Exception Sup;
};
struct  selectorkeyHEX3Aobjecttype161426  {
int Fd;
NU8 Events;
TNimObject* Data;
};
struct readyinfo161423 {
selectorkeyHEX3Aobjecttype161426* Field0;
NU8 Field1;
};
typedef N_CLOSURE_PTR(NIM_BOOL, TMP383) (int fd);
typedef N_CLOSURE_PTR(NIM_BOOL, TMP384) (int fd);
struct  TY165709  {
NI HEX3Astate;
futureHEX3Aobjecttype160094* Retfuture165616;
};
struct  TY165712  {
NI HEX3Astate;
TY165709* HEX3Aup165726;
};
struct  TY165715  {
NI HEX3Astate;
TY165712* HEX3Aup165723;
};
struct  systemerror3229  {
  Exception Sup;
};
struct  oserror3233  {
  systemerror3229 Sup;
NI32 Errorcode;
};
struct  TY166712  {
NI HEX3Astate;
NimStringDesc* Readbuffer165817;
NI Size165739;
NU8 Flags165742;
futureHEX3Aobjecttype165748* Retfuture165816;
};
struct  TY166823  {
NI HEX3Astate;
NimStringDesc* Data166729;
NI Written166745;
NU8 Flags166732;
futureHEX3Aobjecttype160094* Retfuture166744;
};
struct  TY168039  {
NI HEX3Astate;
NU8 Flags166842;
futureHEX3Aobjecttype166851* Retfuture167016;
};
struct  futureHEX3Aobjecttype168263  {
  futurebaseHEX3Aobjecttype160014 Sup;
int Value;
};
typedef N_CLOSURE_PTR(void, TMP409) (void);
typedef N_CLOSURE_PTR(void, TMP415) (void);
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (futureHEX3Aobjecttype166851* future_169850, void* ClEnv);
void* ClEnv;
} TY169857;
struct  TY169865  {
NI HEX3Astate;
TY169857 Cb169856;
futureHEX3Aobjecttype166851* Future169844;
};
typedef N_CLOSURE_PTR(void, TMP419) (futureHEX3Aobjecttype166851* future_169850);
struct  TY169878  {
NI HEX3Astate;
futureHEX3Aobjecttype168263* Retfut168416;
};
typedef struct {
N_NIMCALL_PTR(futurebaseHEX3Aobjecttype160014*, ClPrc) (void* ClEnv);
void* ClEnv;
} TY170666;
struct  TY171414  {
NI HEX3Astate;
int Socket170654;
futureHEX3Aobjecttype165748* Retfuture170648;
TY170666 Nameitervar171240;
NimStringDesc* Result170668;
NimStringDesc* C170674;
futureHEX3Aobjecttype165748* Future170650;
futureHEX3Aobjecttype165748* Future170651;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClPrc) (Exception* e, void* ClEnv);
void* ClEnv;
} TY15009;
struct  TSafePoint  {
TSafePoint* prev;
NI status;
jmp_buf context;
NIM_BOOL hasRaiseAction;
TY15009 raiseAction;
};
typedef N_CLOSURE_PTR(futurebaseHEX3Aobjecttype160014*, TMP433) (void);
typedef N_CLOSURE_PTR(void, TMP435) (void);
struct  futureHEX3Aobjecttype176454  {
  futurebaseHEX3Aobjecttype160014 Sup;
NI Value;
};
typedef N_CLOSURE_PTR(void, TMP496) (void);
typedef N_CLOSURE_PTR(void, TMP497) (void);
struct TY179445 {
NimStringDesc* Field0;
asyncsocketdesc175202* Field1;
};
struct  futureHEX3Aobjecttype179452  {
  futurebaseHEX3Aobjecttype160014 Sup;
TY179445 Value;
};
typedef N_CLOSURE_PTR(void, TMP534) (void);
typedef N_CLOSURE_PTR(void, TMP535) (void);
struct  futureHEX3Aobjecttype180688  {
  futurebaseHEX3Aobjecttype160014 Sup;
asyncsocketdesc175202* Value;
};
typedef N_CLOSURE_PTR(void, TMP541) (void);
typedef N_CLOSURE_PTR(void, TMP542) (void);
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (futureHEX3Aobjecttype179452* future_182250, void* ClEnv);
void* ClEnv;
} TY182257;
struct  TY182265  {
NI HEX3Astate;
TY182257 Cb182256;
futureHEX3Aobjecttype179452* Future182244;
};
typedef N_CLOSURE_PTR(void, TMP546) (futureHEX3Aobjecttype179452* future_182250);
struct  TY185896  {
NI HEX3Astate;
futureHEX3Aobjecttype160094* Future185881;
};
struct  futureHEX3Aobjecttype222048  {
  futurebaseHEX3Aobjecttype160014 Sup;
NIM_BOOL Value;
};
typedef N_CLOSURE_PTR(void, TMP1882) (void);
typedef N_CLOSURE_PTR(void, TMP1883) (void);
typedef NI TY26820[8];
struct  tpagedesc45343  {
tpagedesc45343* Next;
NI Key;
TY26820 Bits;
};
struct  tbasechunk26838  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk26840  {
  tbasechunk26838 Sup;
tsmallchunk26840* Next;
tsmallchunk26840* Prev;
tfreecell26830* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk27604  {
NI Size;
NI Acc;
tllchunk27604* Next;
};
struct  tbigchunk26842  {
  tbasechunk26838 Sup;
tbigchunk26842* Next;
tbigchunk26842* Prev;
NI Align;
NF Data;
};
struct  ttrunk26813  {
ttrunk26813* Next;
NI Key;
TY26820 Bits;
};
typedef tavlnode27608* TY27614[2];
struct  tavlnode27608  {
TY27614 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct keyvaluepair161452 {
NU8 Field0;
int Field1;
selectorkeyHEX3Aobjecttype161426* Field2;
};
struct  table161446  {
keyvaluepairseq161449* Data;
NI Counter;
};
struct  selectorHEX3Aobjecttype161440  {
table161446 Fds;
};
typedef NIM_CHAR TY113053[256];
typedef NIM_CHAR TY175208[4001];
struct  asyncsocketdesc175202  {
int Fd;
NIM_BOOL Closed;
NIM_BOOL Isbuffered;
union {
struct {TY175208 Buffer;
NI Currpos;
NI Buflen;
} S1;
} isbufferedU;
NIM_BOOL Isssl;
union {
} issslU;
};
struct  tfreecell26830  {
tfreecell26830* Next;
NI Zerofield;
};
struct TY161016 {
  TGenericSeq Sup;
  TY161017 data[SEQ_DECL_SIZE];
};
struct TY164213 {
  TGenericSeq Sup;
  tcallback164204 data[SEQ_DECL_SIZE];
};
struct TY162136 {
  TGenericSeq Sup;
  readyinfo161423 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq161449 {
  TGenericSeq Sup;
  keyvaluepair161452 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, checkfinished_160100)(futureHEX3Aobjecttype160094* future_160106);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, getstacktrace_16001)(void);
N_NIMCALL(void, failedassertimpl_85425)(NimStringDesc* msg);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackoverflow_19001)(void);
static N_INLINE(void, popFrame)(void);
N_NIMCALL(void, complete_160087)(futureHEX3Aobjecttype160094* future);
N_NIMCALL(void, callbackHEX3D_160849)(futurebaseHEX3Aobjecttype160014* future, TY160015 cb);
static N_INLINE(void, asgnRef)(void** dest, void* src);
static N_INLINE(void, incref_51425)(tcell45335* c);
static N_INLINE(NIM_BOOL, canbecycleroot_49067)(tcell45335* c);
static N_INLINE(void, rtladdcycleroot_49829)(tcell45335* c);
N_NOINLINE(void, incl_46071)(tcellset45347* s, tcell45335* cell);
static N_INLINE(tcell45335*, usrtocell_49046)(void* usr);
static N_INLINE(void, decref_51004)(tcell45335* c);
static N_INLINE(void, rtladdzct_50604)(tcell45335* c);
N_NOINLINE(void, addzct_49017)(tcellseq45351* s, tcell45335* c);
N_NIMCALL(NIM_BOOL, failed_160931)(futurebaseHEX3Aobjecttype160014* future);
N_NIMCALL(void, processtimers_161027)(pdispatcherbaseHEX3Aobjecttype161015* p);
N_NIMCALL(void, TMP334)(void* p, NI op);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP335)(void* p, NI op);
N_NIMCALL(void, TMP336)(void* p, NI op);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_80004, TNimType* mt);
static N_INLINE(void, nimGCunref)(void* p);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NF, ntepochTime)(void);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* seq, NI elemsize);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(futureHEX3Aobjecttype160094*, newfuture_165426)(NimStringDesc* fromproc_165430);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
N_NIMCALL(void, fail_165669)(futureHEX3Aobjecttype160094* future_165675, Exception* error_165678);
N_NIMCALL(NimStringDesc*, getstacktrace_16003)(Exception* e);
N_NIMCALL(futureHEX3Aobjecttype165748*, newfuture_165753)(NimStringDesc* fromproc_165757);
N_NIMCALL(void, TMP366)(void* p, NI op);
N_NIMCALL(void, complete_165843)(futureHEX3Aobjecttype165748* future_165849, NimStringDesc* val_165852);
N_NIMCALL(void, checkfinished_165855)(futureHEX3Aobjecttype165748* future_165861);
N_NIMCALL(NimStringDesc*, reprStr)(NimStringDesc* s);
N_NIMCALL(void, fail_166652)(futureHEX3Aobjecttype165748* future_166658, Exception* error_166661);
N_NIMCALL(futureHEX3Aobjecttype166851*, newfuture_166859)(NimStringDesc* fromproc_166863);
N_NIMCALL(void, TMP372)(void* p, NI op);
N_NIMCALL(void, fail_167238)(futureHEX3Aobjecttype166851* future_167244, Exception* error_167247);
N_NIMCALL(void, checkfinished_167250)(futureHEX3Aobjecttype166851* future_167256);
N_NIMCALL(void, complete_167819)(futureHEX3Aobjecttype166851* future_167825, TY166844 val_167828);
N_NIMCALL(pdispatcherHEX3Aobjecttype164217*, newdispatcher_164227)(void);
N_NIMCALL(void, TMP375)(void* p, NI op);
N_NIMCALL(selectorHEX3Aobjecttype161440*, newselector_162375)(void);
N_NIMCALL(pdispatcherHEX3Aobjecttype164217*, getglobaldispatcher_164270)(void);
N_NIMCALL(void, update_164287)(int fd, NU8 events);
N_NIMCALL(NIM_BOOL, contains_162624)(selectorHEX3Aobjecttype161440* s, int fd);
N_NIMCALL(selectorkeyHEX3Aobjecttype161426*, update_161806)(selectorHEX3Aobjecttype161440* s, int fd, NU8 events);
N_NIMCALL(void, register_164406)(int fd);
N_NIMCALL(void, TMP379)(void* p, NI op);
N_NIMCALL(void, TMP380)(void* p, NI op);
N_NIMCALL(selectorkeyHEX3Aobjecttype161426*, register_161466)(selectorHEX3Aobjecttype161440* s, int fd, NU8 events, TNimObject* data);
N_NIMCALL(int, newasyncrawsocket_164458)(int domain, int typ, int protocol);
N_NIMCALL(int, newrawsocket_147816)(int domain, int typ, int protocol);
N_NIMCALL(void, setblocking_150247)(int s, NIM_BOOL blocking);
N_NIMCALL(int, newasyncrawsocket_164469)(NU8 domain, NU8 typ, NU8 protocol);
N_NIMCALL(int, newrawsocket_147804)(NU8 domain, NU8 typ, NU8 protocol);
N_NIMCALL(void, closesocket_164480)(int sock);
N_NIMCALL(void, close_147828)(int socket);
N_NIMCALL(selectorkeyHEX3Aobjecttype161426*, unregister_161897)(selectorHEX3Aobjecttype161440* s, int fd);
N_NIMCALL(void, unregister_164489)(int fd);
N_NIMCALL(void, addread_164496)(int fd, tcallback164204 cb);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_NIMCALL(selectorkeyHEX3Aobjecttype161426*, HEX5BHEX5D_162646)(selectorHEX3Aobjecttype161440* s, int fd);
N_NIMCALL(void, chckObj)(TNimType* obj, TNimType* subclass);
N_NIMCALL(void, addwrite_164564)(int fd, tcallback164204 cb);
N_NIMCALL(void, poll_164632)(NI timeout);
N_NIMCALL(TY162136*, select_162365)(selectorHEX3Aobjecttype161440* s, NI timeout);
N_NIMCALL(NIM_BOOL, contains_162804)(selectorHEX3Aobjecttype161440* s, selectorkeyHEX3Aobjecttype161426* key);
N_NIMCALL(futureHEX3Aobjecttype160094*, connect_165416)(int socket, NimStringDesc* address, NU16 port, NU8 af);
N_NIMCALL(void, TMP386)(void* p, NI op);
N_NIMCALL(struct addrinfo*, getaddrinfo_148208)(NimStringDesc* address, NU16 port, NU8 af, NU8 typ, NU8 prot);
N_NIMCALL(void, TMP389)(void* p, NI op);
N_NIMCALL(void, TMP391)(void* p, NI op);
N_NIMCALL(NI32, oslasterror_123041)(void);
N_CLOSURE(NIM_BOOL, cb_165617)(int fd, void* ClEnv);
N_NIMCALL(void, dealloc_148429)(struct addrinfo* ai);
N_NIMCALL(NimStringDesc*, oserrormsg_122820)(NI32 errorcode);
N_NIMCALL(futureHEX3Aobjecttype165748*, recv_165736)(int socket, NI size, NU8 flags);
N_NIMCALL(void, TMP396)(void* p, NI op);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_CLOSURE(NIM_BOOL, cb_165818)(int sock, void* ClEnv);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
N_NIMCALL(int, toosflags_152637)(NU8 socketflags);
N_NIMCALL(NIM_BOOL, isdisconnectionerror_152450)(NU8 flags, NI32 lasterror);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* s, NI newlen);
N_NIMCALL(futureHEX3Aobjecttype160094*, send_166726)(int socket, NimStringDesc* data, NU8 flags);
N_NIMCALL(void, TMP400)(void* p, NI op);
N_CLOSURE(NIM_BOOL, cb_166746)(int sock, void* ClEnv);
static N_INLINE(NI, subInt)(NI a, NI b);
N_NIMCALL(futureHEX3Aobjecttype166851*, acceptaddr_166837)(int socket, NU8 flags);
N_NIMCALL(void, TMP404)(void* p, NI op);
N_CLOSURE(NIM_BOOL, cb_167017)(int sock, void* ClEnv);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING str);
N_NIMCALL(futureHEX3Aobjecttype160094*, sleepasync_168209)(NI ms);
static N_INLINE(NF, HEX2F_84600)(NI x, NI y);
N_NIMCALL(futureHEX3Aobjecttype168263*, newfuture_168268)(NimStringDesc* fromproc_168272);
N_NIMCALL(void, TMP408)(void* p, NI op);
N_NIMCALL(void, fail_168603)(futureHEX3Aobjecttype168263* future_168609, Exception* error_168612);
N_NIMCALL(void, checkfinished_168615)(futureHEX3Aobjecttype168263* future_168621);
N_NIMCALL(void, read_169219)(futureHEX3Aobjecttype166851* future_169225, TY166844* Result);
N_NIMCALL(void, echooriginalstacktrace_169247)(futureHEX3Aobjecttype166851* future_169253);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, complete_169625)(futureHEX3Aobjecttype168263* future_169631, int val_169634);
N_NIMCALL(void, callbackHEX3D_169838)(futureHEX3Aobjecttype166851* future_169844, TY169857 cb_169856);
N_NIMCALL(void, TMP418)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_169860)(void* ClEnv);
N_NIMCALL(futureHEX3Aobjecttype168263*, accept_168252)(int socket, NU8 flags);
N_NIMCALL(void, TMP421)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_168418)(futureHEX3Aobjecttype166851* future, void* ClEnv);
N_NIMCALL(NimStringDesc*, read_170677)(futureHEX3Aobjecttype165748* future_170683);
N_NIMCALL(void, echooriginalstacktrace_170705)(futureHEX3Aobjecttype165748* future_170711);
static N_INLINE(NIM_BOOL, finished_171246)(TY170666 x_171250);
N_NIMCALL(futureHEX3Aobjecttype165748*, recvline_170652)(int socket);
N_NIMCALL(void, TMP426)(void* p, NI op);
N_CLOSURE(futurebaseHEX3Aobjecttype160014*, recvlineiter_170649)(void* ClEnv);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_CLOSURE(void, cb_171243)(void* ClEnv);
static N_INLINE(void, pushSafePoint)(TSafePoint* s);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(void, setFrame)(TFrame* s);
N_NIMCALL(void, reraiseException)(void);
static N_INLINE(Exception*, getCurrentException)(void);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, runforever_171443)(void);
N_NIMCALL(void, echooriginalstacktrace_175652)(futureHEX3Aobjecttype160094* future_175658);
N_NIMCALL(void, TMP495)(void* p, NI op);
N_NIMCALL(void, checkfinished_176828)(futureHEX3Aobjecttype176454* future_176834);
N_NIMCALL(void, echooriginalstacktrace_177930)(futureHEX3Aobjecttype176454* future_177936);
N_NIMCALL(void, TMP532)(void* p, NI op);
N_NIMCALL(void, checkfinished_179877)(futureHEX3Aobjecttype179452* future_179883);
N_NIMCALL(void, TMP540)(void* p, NI op);
N_NIMCALL(void, checkfinished_181077)(futureHEX3Aobjecttype180688* future_181083);
N_NIMCALL(void, echooriginalstacktrace_181647)(futureHEX3Aobjecttype179452* future_181653);
N_NIMCALL(void, TMP545)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_182260)(void* ClEnv);
N_NIMCALL(void, TMP638)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_185883)(void* ClEnv);
N_NIMCALL(void, TMP1881)(void* p, NI op);
N_NIMCALL(void, checkfinished_222268)(futureHEX3Aobjecttype222048* future_222274);
N_NIMCALL(void, echooriginalstacktrace_223322)(futureHEX3Aobjecttype222048* future_223328);
STRING_LITERAL(TMP321, "<-----> ", 8);
STRING_LITERAL(TMP322, " ", 1);
STRING_LITERAL(TMP323, "-----", 5);
STRING_LITERAL(TMP324, "<----->", 7);
STRING_LITERAL(TMP325, "Future already finished, cannot finish twice.", 45);
STRING_LITERAL(TMP326, "false ", 6);
STRING_LITERAL(TMP327, "future.error == nil ", 20);
static NIM_CONST TY160015 TMP328 = {NIM_NIL,NIM_NIL};
STRING_LITERAL(TMP337, "(system.len|system.len|system.len|system.len|system.len|...)(a)"
" (system.==|system.==|system.==|system.==|system.==|system.==|sy"
"stem.==|system.==|system.==|system.==|system.==|system.==|system"
".==|system.==|system.==|system.==|system.==|system.==|system.==|"
"system.==|...)\012    L seq modified while iterating over it", 312);
STRING_LITERAL(TMP367, "Contents: ", 10);
STRING_LITERAL(TMP368, "future.(macros.error|...) (system.==|system.==|system.==|system"
".==|system.==|tables.==|system.==|tables.==|system.==|system.==|"
"system.==|system.==|system.==|system.==|system.==|system.==|syst"
"em.==|os.==|times.==|macros.==|system.==|system.==|system.==|sys"
"tem.==|system.==|macros.==|rawsockets.==|unsigned.==|posix.==|ne"
"t.==|...)\012    nil ", 337);
STRING_LITERAL(TMP376, "fd.SocketHandle in p.selector ", 30);
STRING_LITERAL(TMP381, "File descriptor not registered.", 31);
STRING_LITERAL(TMP382, "data.fd == info.key.fd.TAsyncFD ", 32);
STRING_LITERAL(TMP387, "connect", 7);
STRING_LITERAL(TMP397, "recv", 4);
STRING_LITERAL(TMP398, "", 0);
STRING_LITERAL(TMP401, "send", 4);
STRING_LITERAL(TMP405, "acceptAddr", 10);
STRING_LITERAL(TMP406, "lastError.int32 notin {EWOULDBLOCK, EAGAIN} ", 44);
STRING_LITERAL(TMP407, "sleepAsync", 10);
STRING_LITERAL(TMP410, "Original stack trace in ", 24);
STRING_LITERAL(TMP411, ":", 1);
STRING_LITERAL(TMP412, "Empty or nil stack trace.", 25);
STRING_LITERAL(TMP413, "Continuing...", 13);
STRING_LITERAL(TMP414, "Future still in progress.", 25);
STRING_LITERAL(TMP422, "accept", 6);
STRING_LITERAL(TMP423, "future.finished ", 16);
STRING_LITERAL(TMP427, "recvLine", 8);
STRING_LITERAL(TMP428, "\015", 1);
STRING_LITERAL(TMP429, "\012", 1);
STRING_LITERAL(TMP430, "c == \"\\x0A\" ", 12);
STRING_LITERAL(TMP431, "\015\012", 2);
STRING_LITERAL(TMP434, "retFuture.(asyncdispatch.finished|system.finished|...) Async pr"
"ocedure\'s (recvLine) return Future was not finished.", 115);
STRING_LITERAL(TMP533, "No error in future.", 19);
NI currentid_160041;
extern TFrame* frameptr_16442;
extern tgcheap47416 gch_47444;
TNimType NTI161017; /* tuple[finishAt: float, fut: Future[void]] */
extern TNimType NTI128; /* float */
extern TNimType NTI3211; /* RootObj */
TNimType NTI160014; /* FutureBase:ObjectType */
TNimType NTI160015; /* tuple[pointer, ref tuple[]] */
extern TNimType NTI153; /* pointer */
TNimType NTI161267; /* tuple[] */
TNimType NTI161266; /* ref tuple[] */
extern TNimType NTI138; /* bool */
extern TNimType NTI8222; /* ref Exception */
extern TNimType NTI149; /* string */
extern TNimType NTI108; /* int */
TNimType NTI160094; /* Future:ObjectType */
TNimType NTI160093; /* Future */
TNimType NTI161016; /* seq[tuple[finishAt: float, fut: Future[void]]] */
TNimType NTI165748; /* Future:ObjectType */
TNimType NTI165747; /* Future */
TNimType NTI166851; /* Future:ObjectType */
TNimType NTI166844; /* tuple[address: string, client: TAsyncFD] */
extern TNimType NTI5611; /* cint */
TNimType NTI166850; /* Future */
TNimType NTI161015; /* PDispatcherBase:ObjectType */
TNimType NTI164217; /* PDispatcher:ObjectType */
extern TNimType NTI161439; /* Selector */
TNimType NTI164208; /* PDispatcher */
pdispatcherHEX3Aobjecttype164217* gdisp_164269;
TNimType NTI164211; /* PData:ObjectType */
TNimType NTI164204; /* tuple[pointer, ref tuple[]] */
TNimType NTI164213; /* seq[TCallback] */
TNimType NTI164206; /* PData */
extern TNimType NTI21801; /* ref ValueError */
extern TNimType NTI3249; /* ValueError */
TNimType NTI165709; /* object */
TNimType NTI165711; /* range -1..0(int) */
TNimType NTI165735; /* ref object */
TNimType NTI165712; /* object */
TNimType NTI165733; /* ref object */
TNimType NTI165715; /* object */
TNimType NTI165731; /* ref object */
extern TNimType NTI148404; /* ref OSError */
extern TNimType NTI3233; /* OSError */
TNimType NTI166712; /* object */
extern TNimType NTI152417; /* SocketFlag */
TNimType NTI165740; /* set[SocketFlag] */
TNimType NTI166725; /* ref object */
TNimType NTI166823; /* object */
TNimType NTI166836; /* ref object */
extern int msgnosignal_114606;
TNimType NTI168039; /* object */
TNimType NTI168050; /* ref object */
extern int osinvalidsocket_147460;
TNimType NTI168263; /* Future:ObjectType */
TNimType NTI168262; /* Future */
TNimType NTI169865; /* object */
TNimType NTI169857; /* tuple[pointer, ref tuple[]] */
TNimType NTI169876; /* ref object */
TNimType NTI169878; /* object */
TNimType NTI169888; /* ref object */
TNimType NTI171414; /* object */
TNimType NTI171416; /* range -1..2(int) */
TNimType NTI170666; /* tuple[pointer, ref tuple[]] */
TNimType NTI171431; /* ref object */
extern TSafePoint* exchandler_16443;
extern Exception* currexception_16445;
TNimType NTI176454; /* Future:ObjectType */
TNimType NTI176453; /* Future */
TNimType NTI179452; /* Future:ObjectType */
extern TNimType NTI179445; /* tuple[address: string, client: AsyncSocket] */
TNimType NTI179451; /* Future */
TNimType NTI180688; /* Future:ObjectType */
extern TNimType NTI175204; /* AsyncSocket */
TNimType NTI180687; /* Future */
TNimType NTI182265; /* object */
TNimType NTI182257; /* tuple[pointer, ref tuple[]] */
TNimType NTI182276; /* ref object */
TNimType NTI185896; /* object */
TNimType NTI185906; /* ref object */
TNimType NTI222048; /* Future:ObjectType */
TNimType NTI222047; /* Future */

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI LOC1;
	LOC1 = 0;
	{
		if (!(frameptr_16442 == NIM_NIL)) goto LA4;
		LOC1 = 0;
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = ((NI) ((NI16)((*frameptr_16442).calldepth + ((NI16) 1))));
	}
	LA2: ;
	(*s).calldepth = ((NI16) (LOC1));
	(*s).prev = frameptr_16442;
	frameptr_16442 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9;
		stackoverflow_19001();
	}
	LA9: ;
}

static N_INLINE(void, popFrame)(void) {
	frameptr_16442 = (*frameptr_16442).prev;
}

N_NIMCALL(void, checkfinished_160100)(futureHEX3Aobjecttype160094* future_160106) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_160106).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_160106).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_160106).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_160106).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_160087)(futureHEX3Aobjecttype160094* future) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(191, "asyncdispatch.nim");
	checkfinished_160100(future);
	nimln(192, "asyncdispatch.nim");
	{
		nimln(192, "asyncdispatch.nim");
		nimln(192, "asyncdispatch.nim");
		if (!!(((*future).Sup.Error == NIM_NIL))) goto LA3;
		nimln(192, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP327));
	}
	LA3: ;
	nimln(193, "asyncdispatch.nim");
	(*future).Sup.Finished = NIM_TRUE;
	nimln(194, "asyncdispatch.nim");
	{
		nimln(194, "asyncdispatch.nim");
		nimln(194, "asyncdispatch.nim");
		if (!!(((*future).Sup.Cb.ClPrc == TMP328.ClPrc && (*future).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA7;
		nimln(195, "asyncdispatch.nim");
		(*future).Sup.Cb.ClEnv? (*future).Sup.Cb.ClPrc((*future).Sup.Cb.ClEnv):((TMP329)((*future).Sup.Cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

static N_INLINE(NIM_BOOL, canbecycleroot_49067)(tcell45335* c) {
	NIM_BOOL result;
	nimfr("canbeCycleRoot", "gc.nim")
	result = 0;
	nimln(121, "gc.nim");
	nimln(121, "gc.nim");
	nimln(121, "gc.nim");
	result = !((((*(*c).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdcycleroot_49829)(tcell45335* c) {
	nimfr("rtlAddCycleRoot", "gc.nim")
	nimln(189, "gc.nim");
	{
		nimln(189, "gc.nim");
		nimln(189, "gc.nim");
		nimln(189, "gc.nim");
		if (!!((((NI) ((NI)((*c).Refcount & 3))) == 3))) goto LA3;
		nimln(139, "gc.nim");
		nimln(139, "gc.nim");
		nimln(139, "gc.nim");
		(*c).Refcount = (NI)((NI)((*c).Refcount & -4) | 3);
		nimln(191, "gc.nim");
		incl_46071((&gch_47444.Cycleroots), c);
	}
	LA3: ;
	popFrame();
}

static N_INLINE(void, incref_51425)(tcell45335* c) {
	nimfr("incRef", "gc.nim")
	nimln(216, "gc.nim");
	nimln(216, "gc.nim");
	(*c).Refcount = (NI)((NU64)((*c).Refcount) + (NU64)(8));
	nimln(219, "gc.nim");
	{
		NIM_BOOL LOC3;
		nimln(219, "gc.nim");
		LOC3 = 0;
		LOC3 = canbecycleroot_49067(c);
		if (!LOC3) goto LA4;
		nimln(220, "gc.nim");
		rtladdcycleroot_49829(c);
	}
	LA4: ;
	popFrame();
}

static N_INLINE(tcell45335*, usrtocell_49046)(void* usr) {
	tcell45335* result;
	nimfr("usrToCell", "gc.nim")
	result = 0;
	nimln(118, "gc.nim");
	nimln(118, "gc.nim");
	nimln(118, "gc.nim");
	result = ((tcell45335*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tcell45335))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdzct_50604)(tcell45335* c) {
	nimfr("rtlAddZCT", "gc.nim")
	nimln(199, "gc.nim");
	addzct_49017((&gch_47444.Zct), c);
	popFrame();
}

static N_INLINE(void, decref_51004)(tcell45335* c) {
	nimfr("decRef", "gc.nim")
	nimln(206, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).Refcount -= 8;
		nimln(168, "gc.nim");
		if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA3;
		nimln(207, "gc.nim");
		rtladdzct_50604(c);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC6;
		nimln(208, "gc.nim");
		LOC6 = 0;
		LOC6 = canbecycleroot_49067(c);
		if (!LOC6) goto LA7;
		nimln(211, "gc.nim");
		rtladdcycleroot_49829(c);
	}
	goto LA1;
	LA7: ;
	LA1: ;
	popFrame();
}

static N_INLINE(void, asgnRef)(void** dest, void* src) {
	nimfr("asgnRef", "gc.nim")
	nimln(244, "gc.nim");
	{
		tcell45335* LOC5;
		nimln(244, "gc.nim");
		nimln(244, "gc.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(244, "gc.nim");
		nimln(244, "gc.nim");
		LOC5 = 0;
		LOC5 = usrtocell_49046(src);
		incref_51425(LOC5);
	}
	LA3: ;
	nimln(245, "gc.nim");
	{
		tcell45335* LOC10;
		nimln(245, "gc.nim");
		nimln(245, "gc.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA8;
		nimln(245, "gc.nim");
		nimln(245, "gc.nim");
		LOC10 = 0;
		LOC10 = usrtocell_49046((*dest));
		decref_51004(LOC10);
	}
	LA8: ;
	nimln(246, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_160849)(futurebaseHEX3Aobjecttype160014* future, TY160015 cb) {
	nimfr("callback=", "asyncdispatch.nim")
	nimln(222, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Cb.ClEnv), cb.ClEnv);
	(*future).Cb.ClPrc = cb.ClPrc;
	nimln(223, "asyncdispatch.nim");
	{
		if (!(*future).Finished) goto LA3;
		nimln(224, "asyncdispatch.nim");
		(*future).Cb.ClEnv? (*future).Cb.ClPrc((*future).Cb.ClEnv):((TMP330)((*future).Cb.ClPrc))();
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(NIM_BOOL, failed_160931)(futurebaseHEX3Aobjecttype160014* future) {
	NIM_BOOL result;
	nimfr("failed", "asyncdispatch.nim")
	result = 0;
	nimln(275, "asyncdispatch.nim");
	nimln(275, "asyncdispatch.nim");
	nimln(275, "asyncdispatch.nim");
	nimln(275, "asyncdispatch.nim");
	result = !(((*future).Error == NIM_NIL));
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP334)(void* p, NI op) {
	TY161267* a;
	a = (TY161267*)p;
}
N_NIMCALL(void, TMP335)(void* p, NI op) {
	futureHEX3Aobjecttype160094* a;
	a = (futureHEX3Aobjecttype160094*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
}
N_NIMCALL(void, TMP336)(void* p, NI op) {
	TY161016* a;
	NI LOC1;
	a = (TY161016*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

static N_INLINE(void, nimGCunref)(void* p) {
	tcell45335* LOC1;
	nimfr("nimGCunref", "gc.nim")
	nimln(223, "gc.nim");
	nimln(223, "gc.nim");
	LOC1 = 0;
	LOC1 = usrtocell_49046(p);
	decref_51004(LOC1);
	popFrame();
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
	result = 0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (0 <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (0 <= (NI)(result ^ b));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, processtimers_161027)(pdispatcherbaseHEX3Aobjecttype161015* p) {
	TY161016* oldtimers;
	nimfr("processTimers", "asyncdispatch.nim")
	nimln(315, "asyncdispatch.nim");
	genericSeqAssign((&oldtimers), (*p).Timers, (&NTI161016));
	nimln(316, "asyncdispatch.nim");
	if ((*p).Timers) nimGCunref((*p).Timers);
	(*p).Timers = (TY161016*) newSeqRC1((&NTI161016), 0);
	{
		TY161017 t_161222;
		NI i_161246;
		NI l_161248;
		memset((void*)(&t_161222), 0, sizeof(t_161222));
		nimln(2986, "system.nim");
		i_161246 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_161248 = oldtimers->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				nimln(2988, "system.nim");
				if (!(i_161246 < l_161248)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_161246) >= (NU)(oldtimers->Sup.len)) raiseIndexError();
				t_161222.Field0 = oldtimers->data[i_161246].Field0;
				t_161222.Field1 = oldtimers->data[i_161246].Field1;
				nimln(318, "asyncdispatch.nim");
				{
					NF LOC6;
					nimln(318, "asyncdispatch.nim");
					nimln(318, "asyncdispatch.nim");
					LOC6 = 0;
					LOC6 = ntepochTime();
					if (!(t_161222.Field0 <= LOC6)) goto LA7;
					nimln(319, "asyncdispatch.nim");
					complete_160087(t_161222.Field1);
				}
				goto LA4;
				LA7: ;
				{
					nimln(321, "asyncdispatch.nim");
					(*p).Timers = (TY161016*) incrSeq(&((*p).Timers)->Sup, sizeof(TY161017));
					(*p).Timers->data[(*p).Timers->Sup.len-1].Field0 = t_161222.Field0;
					asgnRef((void**) (&(*p).Timers->data[(*p).Timers->Sup.len-1].Field1), t_161222.Field1);
				}
				LA4: ;
				nimln(2990, "system.nim");
				i_161246 = addInt(i_161246, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((oldtimers->Sup.len == l_161248))) goto LA12;
					nimln(2991, "system.nim");
					failedassertimpl_85425(((NimStringDesc*) &TMP337));
				}
				LA12: ;
			} LA3: ;
		}
	}
	popFrame();
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	nimfr("asgnRefNoCycle", "gc.nim")
	nimln(251, "gc.nim");
	{
		tcell45335* c;
		nimln(251, "gc.nim");
		nimln(251, "gc.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(252, "gc.nim");
		c = usrtocell_49046(src);
		nimln(169, "gc.nim");
		(*c).Refcount += 8;
	}
	LA3: ;
	nimln(254, "gc.nim");
	{
		tcell45335* c;
		nimln(254, "gc.nim");
		nimln(254, "gc.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		nimln(255, "gc.nim");
		c = usrtocell_49046((*dest));
		nimln(256, "gc.nim");
		{
			nimln(167, "gc.nim");
			(*c).Refcount -= 8;
			nimln(168, "gc.nim");
			if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA11;
			nimln(257, "gc.nim");
			rtladdzct_50604(c);
		}
		LA11: ;
	}
	LA7: ;
	nimln(258, "gc.nim");
	(*dest) = src;
	popFrame();
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell45335* c;
	nimfr("nimGCunrefNoCycle", "gc.nim")
	nimln(233, "gc.nim");
	c = usrtocell_49046(p);
	nimln(235, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).Refcount -= 8;
		nimln(168, "gc.nim");
		if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA3;
		nimln(236, "gc.nim");
		rtladdzct_50604(c);
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(futureHEX3Aobjecttype160094*, newfuture_165426)(NimStringDesc* fromproc_165430) {
	futureHEX3Aobjecttype160094* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype160094*) newObj((&NTI160093), sizeof(futureHEX3Aobjecttype160094));
	(*result).Sup.Sup.m_type = (&NTI160094);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_165430);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(void, fail_165669)(futureHEX3Aobjecttype160094* future_165675, Exception* error_165678) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_160100(future_165675);
	nimln(201, "asyncdispatch.nim");
	(*future_165675).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_165675).Sup.Error), error_165678);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_165678);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_165675).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_165675).Sup.Errorstacktrace), getstacktrace_16003(error_165678));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_165675).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_165675).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_165675).Sup.Cb.ClEnv? (*future_165675).Sup.Cb.ClPrc((*future_165675).Sup.Cb.ClEnv):((TMP365)((*future_165675).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP366)(void* p, NI op) {
	futureHEX3Aobjecttype165748* a;
	a = (futureHEX3Aobjecttype165748*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
	nimGCvisit((void*)(*a).Value, op);
}

N_NIMCALL(futureHEX3Aobjecttype165748*, newfuture_165753)(NimStringDesc* fromproc_165757) {
	futureHEX3Aobjecttype165748* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype165748*) newObj((&NTI165747), sizeof(futureHEX3Aobjecttype165748));
	(*result).Sup.Sup.m_type = (&NTI165748);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_165757);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_165855)(futureHEX3Aobjecttype165748* future_165861) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_165861).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_165861).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_165861).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_165861).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(172, "asyncdispatch.nim");
		nimln(172, "asyncdispatch.nim");
		nimln(172, "asyncdispatch.nim");
		nimln(172, "asyncdispatch.nim");
		printf("%s%s\012", (((NimStringDesc*) &TMP367))->data, (reprStr((*future_165861).Value))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_165843)(futureHEX3Aobjecttype165748* future_165849, NimStringDesc* val_165852) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_165855(future_165849);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_165849).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future_165849).Value; (*future_165849).Value = copyStringRC1(val_165852);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	nimln(184, "asyncdispatch.nim");
	(*future_165849).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_165849).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_165849).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA8;
		nimln(186, "asyncdispatch.nim");
		(*future_165849).Sup.Cb.ClEnv? (*future_165849).Sup.Cb.ClPrc((*future_165849).Sup.Cb.ClEnv):((TMP369)((*future_165849).Sup.Cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}

N_NIMCALL(void, fail_166652)(futureHEX3Aobjecttype165748* future_166658, Exception* error_166661) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_165855(future_166658);
	nimln(201, "asyncdispatch.nim");
	(*future_166658).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_166658).Sup.Error), error_166661);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_166661);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_166658).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_166658).Sup.Errorstacktrace), getstacktrace_16003(error_166661));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_166658).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_166658).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_166658).Sup.Cb.ClEnv? (*future_166658).Sup.Cb.ClPrc((*future_166658).Sup.Cb.ClEnv):((TMP370)((*future_166658).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP372)(void* p, NI op) {
	futureHEX3Aobjecttype166851* a;
	a = (futureHEX3Aobjecttype166851*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
	nimGCvisit((void*)(*a).Value.Field0, op);
}

N_NIMCALL(futureHEX3Aobjecttype166851*, newfuture_166859)(NimStringDesc* fromproc_166863) {
	futureHEX3Aobjecttype166851* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype166851*) newObj((&NTI166850), sizeof(futureHEX3Aobjecttype166851));
	(*result).Sup.Sup.m_type = (&NTI166851);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_166863);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_167250)(futureHEX3Aobjecttype166851* future_167256) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_167256).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_167256).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_167256).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_167256).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_167238)(futureHEX3Aobjecttype166851* future_167244, Exception* error_167247) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_167250(future_167244);
	nimln(201, "asyncdispatch.nim");
	(*future_167244).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_167244).Sup.Error), error_167247);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_167247);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_167244).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_167244).Sup.Errorstacktrace), getstacktrace_16003(error_167247));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_167244).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_167244).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_167244).Sup.Cb.ClEnv? (*future_167244).Sup.Cb.ClPrc((*future_167244).Sup.Cb.ClEnv):((TMP373)((*future_167244).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, complete_167819)(futureHEX3Aobjecttype166851* future_167825, TY166844 val_167828) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_167250(future_167825);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_167825).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future_167825).Value.Field0; (*future_167825).Value.Field0 = copyStringRC1(val_167828.Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	(*future_167825).Value.Field1 = val_167828.Field1;
	nimln(184, "asyncdispatch.nim");
	(*future_167825).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_167825).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_167825).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA8;
		nimln(186, "asyncdispatch.nim");
		(*future_167825).Sup.Cb.ClEnv? (*future_167825).Sup.Cb.ClPrc((*future_167825).Sup.Cb.ClEnv):((TMP374)((*future_167825).Sup.Cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}
N_NIMCALL(void, TMP375)(void* p, NI op) {
	pdispatcherHEX3Aobjecttype164217* a;
	a = (pdispatcherHEX3Aobjecttype164217*)p;
	nimGCvisit((void*)(*a).Sup.Timers, op);
	nimGCvisit((void*)(*a).Selector, op);
}

N_NIMCALL(pdispatcherHEX3Aobjecttype164217*, newdispatcher_164227)(void) {
	pdispatcherHEX3Aobjecttype164217* result;
	nimfr("newDispatcher", "asyncdispatch.nim")
	result = 0;
	nimln(822, "asyncdispatch.nim");
	result = (pdispatcherHEX3Aobjecttype164217*) newObj((&NTI164208), sizeof(pdispatcherHEX3Aobjecttype164217));
	(*result).Sup.Sup.m_type = (&NTI164217);
	nimln(823, "asyncdispatch.nim");
	asgnRef((void**) (&(*result).Selector), newselector_162375());
	nimln(824, "asyncdispatch.nim");
	if ((*result).Sup.Timers) nimGCunref((*result).Sup.Timers);
	(*result).Sup.Timers = (TY161016*) newSeqRC1((&NTI161016), 0);
	popFrame();
	return result;
}

N_NIMCALL(pdispatcherHEX3Aobjecttype164217*, getglobaldispatcher_164270)(void) {
	pdispatcherHEX3Aobjecttype164217* result;
	nimfr("getGlobalDispatcher", "asyncdispatch.nim")
	result = 0;
	nimln(828, "asyncdispatch.nim");
	{
		nimln(828, "asyncdispatch.nim");
		if (!gdisp_164269 == 0) goto LA3;
		nimln(828, "asyncdispatch.nim");
		asgnRef((void**) (&gdisp_164269), newdispatcher_164227());
	}
	LA3: ;
	nimln(829, "asyncdispatch.nim");
	result = gdisp_164269;
	popFrame();
	return result;
}

N_NIMCALL(void, update_164287)(int fd, NU8 events) {
	pdispatcherHEX3Aobjecttype164217* p;
	selectorkeyHEX3Aobjecttype161426* LOC6;
	nimfr("update", "asyncdispatch.nim")
	nimln(832, "asyncdispatch.nim");
	p = getglobaldispatcher_164270();
	nimln(833, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(833, "asyncdispatch.nim");
		nimln(833, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = contains_162624((*p).Selector, fd);
		if (!!(LOC3)) goto LA4;
		nimln(833, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP376));
	}
	LA4: ;
	nimln(834, "asyncdispatch.nim");
	nimln(834, "asyncdispatch.nim");
	LOC6 = 0;
	LOC6 = update_161806((*p).Selector, fd, events);
	popFrame();
}
N_NIMCALL(void, TMP379)(void* p, NI op) {
	TY164213* a;
	NI LOC1;
	a = (TY164213*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].ClEnv, op);
	}
}
N_NIMCALL(void, TMP380)(void* p, NI op) {
	pdataHEX3Aobjecttype164211* a;
	a = (pdataHEX3Aobjecttype164211*)p;
	nimGCvisit((void*)(*a).Readcbs, op);
	nimGCvisit((void*)(*a).Writecbs, op);
}

N_NIMCALL(void, register_164406)(int fd) {
	pdispatcherHEX3Aobjecttype164217* p;
	pdataHEX3Aobjecttype164211* data;
	pdataHEX3Aobjecttype164211* LOC1;
	TNimObject* LOC2;
	selectorkeyHEX3Aobjecttype161426* LOC3;
	nimfr("register", "asyncdispatch.nim")
	nimln(837, "asyncdispatch.nim");
	p = getglobaldispatcher_164270();
	nimln(838, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (pdataHEX3Aobjecttype164211*) newObj((&NTI164206), sizeof(pdataHEX3Aobjecttype164211));
	(*LOC1).Sup.m_type = (&NTI164211);
	(*LOC1).Fd = fd;
	if ((*LOC1).Readcbs) nimGCunref((*LOC1).Readcbs);
	(*LOC1).Readcbs = (TY164213*) newSeqRC1((&NTI164213), 0);
	if ((*LOC1).Writecbs) nimGCunref((*LOC1).Writecbs);
	(*LOC1).Writecbs = (TY164213*) newSeqRC1((&NTI164213), 0);
	data = LOC1;
	nimln(839, "asyncdispatch.nim");
	LOC2 = 0;
	LOC2 = &data->Sup;
	LOC3 = 0;
	LOC3 = register_161466((*p).Selector, fd, 0, LOC2);
	popFrame();
}

N_NIMCALL(int, newasyncrawsocket_164458)(int domain, int typ, int protocol) {
	int result;
	nimfr("newAsyncRawSocket", "asyncdispatch.nim")
	result = 0;
	nimln(842, "asyncdispatch.nim");
	nimln(842, "asyncdispatch.nim");
	result = newrawsocket_147816(domain, typ, protocol);
	nimln(843, "asyncdispatch.nim");
	setblocking_150247(result, NIM_FALSE);
	nimln(844, "asyncdispatch.nim");
	register_164406(result);
	popFrame();
	return result;
}

N_NIMCALL(int, newasyncrawsocket_164469)(NU8 domain, NU8 typ, NU8 protocol) {
	int result;
	nimfr("newAsyncRawSocket", "asyncdispatch.nim")
	result = 0;
	nimln(849, "asyncdispatch.nim");
	nimln(849, "asyncdispatch.nim");
	result = newrawsocket_147804(domain, typ, protocol);
	nimln(850, "asyncdispatch.nim");
	setblocking_150247(result, NIM_FALSE);
	nimln(851, "asyncdispatch.nim");
	register_164406(result);
	popFrame();
	return result;
}

N_NIMCALL(void, closesocket_164480)(int sock) {
	pdispatcherHEX3Aobjecttype164217* disp;
	selectorkeyHEX3Aobjecttype161426* LOC1;
	nimfr("closeSocket", "asyncdispatch.nim")
	nimln(854, "asyncdispatch.nim");
	disp = getglobaldispatcher_164270();
	nimln(855, "asyncdispatch.nim");
	close_147828(sock);
	nimln(856, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = unregister_161897((*disp).Selector, sock);
	popFrame();
}

N_NIMCALL(void, unregister_164489)(int fd) {
	pdispatcherHEX3Aobjecttype164217* LOC1;
	selectorkeyHEX3Aobjecttype161426* LOC2;
	nimfr("unregister", "asyncdispatch.nim")
	nimln(859, "asyncdispatch.nim");
	nimln(859, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = getglobaldispatcher_164270();
	LOC2 = 0;
	LOC2 = unregister_161897((*LOC1).Selector, fd);
	popFrame();
}

N_NIMCALL(void, addread_164496)(int fd, tcallback164204 cb) {
	pdispatcherHEX3Aobjecttype164217* p;
	selectorkeyHEX3Aobjecttype161426* LOC7;
	selectorkeyHEX3Aobjecttype161426* LOC8;
	nimfr("addRead", "asyncdispatch.nim")
	nimln(862, "asyncdispatch.nim");
	p = getglobaldispatcher_164270();
	nimln(863, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		valueerror3249* e_164503;
		NimStringDesc* LOC6;
		nimln(863, "asyncdispatch.nim");
		nimln(863, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = contains_162624((*p).Selector, fd);
		if (!!(LOC3)) goto LA4;
		e_164503 = 0;
		nimln(2149, "system.nim");
		e_164503 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_164503).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_164503).Sup.message; (*e_164503).Sup.message = copyStringRC1(((NimStringDesc*) &TMP381));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(864, "asyncdispatch.nim");
		raiseException((Exception*)e_164503, "ValueError");
	}
	LA4: ;
	nimln(865, "asyncdispatch.nim");
	nimln(865, "asyncdispatch.nim");
	LOC7 = 0;
	LOC7 = HEX5BHEX5D_162646((*p).Selector, fd);
	if ((*LOC7).Data) chckObj((*(*LOC7).Data).m_type, (&NTI164211));
	(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Readcbs = (TY164213*) incrSeq(&((*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Readcbs)->Sup, sizeof(tcallback164204));
	asgnRef((void**) (&(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Readcbs->data[(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Readcbs->Sup.len-1].ClEnv), cb.ClEnv);
	(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Readcbs->data[(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Readcbs->Sup.len-1].ClPrc = cb.ClPrc;
	nimln(866, "asyncdispatch.nim");
	nimln(866, "asyncdispatch.nim");
	nimln(866, "asyncdispatch.nim");
	LOC8 = 0;
	LOC8 = HEX5BHEX5D_162646((*p).Selector, fd);
	update_164287(fd, ((*LOC8).Events | 1));
	popFrame();
}

N_NIMCALL(void, addwrite_164564)(int fd, tcallback164204 cb) {
	pdispatcherHEX3Aobjecttype164217* p;
	selectorkeyHEX3Aobjecttype161426* LOC7;
	selectorkeyHEX3Aobjecttype161426* LOC8;
	nimfr("addWrite", "asyncdispatch.nim")
	nimln(869, "asyncdispatch.nim");
	p = getglobaldispatcher_164270();
	nimln(870, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		valueerror3249* e_164571;
		NimStringDesc* LOC6;
		nimln(870, "asyncdispatch.nim");
		nimln(870, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = contains_162624((*p).Selector, fd);
		if (!!(LOC3)) goto LA4;
		e_164571 = 0;
		nimln(2149, "system.nim");
		e_164571 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_164571).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_164571).Sup.message; (*e_164571).Sup.message = copyStringRC1(((NimStringDesc*) &TMP381));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(871, "asyncdispatch.nim");
		raiseException((Exception*)e_164571, "ValueError");
	}
	LA4: ;
	nimln(872, "asyncdispatch.nim");
	nimln(872, "asyncdispatch.nim");
	LOC7 = 0;
	LOC7 = HEX5BHEX5D_162646((*p).Selector, fd);
	if ((*LOC7).Data) chckObj((*(*LOC7).Data).m_type, (&NTI164211));
	(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Writecbs = (TY164213*) incrSeq(&((*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Writecbs)->Sup, sizeof(tcallback164204));
	asgnRef((void**) (&(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Writecbs->data[(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Writecbs->Sup.len-1].ClEnv), cb.ClEnv);
	(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Writecbs->data[(*((pdataHEX3Aobjecttype164211*) ((*LOC7).Data))).Writecbs->Sup.len-1].ClPrc = cb.ClPrc;
	nimln(873, "asyncdispatch.nim");
	nimln(873, "asyncdispatch.nim");
	nimln(873, "asyncdispatch.nim");
	LOC8 = 0;
	LOC8 = HEX5BHEX5D_162646((*p).Selector, fd);
	update_164287(fd, ((*LOC8).Events | 2));
	popFrame();
}

N_NIMCALL(void, poll_164632)(NI timeout) {
	pdispatcherHEX3Aobjecttype164217* p;
	pdispatcherbaseHEX3Aobjecttype161015* LOC62;
	nimfr("poll", "asyncdispatch.nim")
	nimln(876, "asyncdispatch.nim");
	p = getglobaldispatcher_164270();
	{
		readyinfo161423 info_164822;
		TY162136* HEX3Atmp_165380;
		NI i_165383;
		NI l_165385;
		memset((void*)(&info_164822), 0, sizeof(info_164822));
		HEX3Atmp_165380 = 0;
		nimln(877, "asyncdispatch.nim");
		HEX3Atmp_165380 = select_162365((*p).Selector, timeout);
		nimln(2986, "system.nim");
		i_165383 = 0;
		nimln(2987, "system.nim");
		nimln(2987, "system.nim");
		l_165385 = HEX3Atmp_165380->Sup.len;
		{
			nimln(2988, "system.nim");
			while (1) {
				pdataHEX3Aobjecttype164211* data;
				nimln(2988, "system.nim");
				if (!(i_165383 < l_165385)) goto LA3;
				nimln(2989, "system.nim");
				if ((NU)(i_165383) >= (NU)(HEX3Atmp_165380->Sup.len)) raiseIndexError();
				info_164822.Field0 = HEX3Atmp_165380->data[i_165383].Field0;
				info_164822.Field1 = HEX3Atmp_165380->data[i_165383].Field1;
				nimln(878, "asyncdispatch.nim");
				if ((*info_164822.Field0).Data) chckObj((*(*info_164822.Field0).Data).m_type, (&NTI164211));
				data = ((pdataHEX3Aobjecttype164211*) ((*info_164822.Field0).Data));
				nimln(879, "asyncdispatch.nim");
				{
					nimln(879, "asyncdispatch.nim");
					nimln(879, "asyncdispatch.nim");
					if (!!(((*data).Fd == (*info_164822.Field0).Fd))) goto LA6;
					nimln(879, "asyncdispatch.nim");
					failedassertimpl_85425(((NimStringDesc*) &TMP382));
				}
				LA6: ;
				nimln(881, "asyncdispatch.nim");
				{
					TY164213* currentcbs;
					nimln(881, "asyncdispatch.nim");
					if (!((info_164822.Field1 &(1<<((((NU8) 0))&7)))!=0)) goto LA10;
					nimln(885, "asyncdispatch.nim");
					currentcbs = (*data).Readcbs;
					nimln(886, "asyncdispatch.nim");
					if ((*data).Readcbs) nimGCunref((*data).Readcbs);
					(*data).Readcbs = (TY164213*) newSeqRC1((&NTI164213), 0);
					{
						tcallback164204 cb_165222;
						NI i_165370;
						NI l_165372;
						memset((void*)(&cb_165222), 0, sizeof(cb_165222));
						nimln(2986, "system.nim");
						i_165370 = 0;
						nimln(2987, "system.nim");
						nimln(2987, "system.nim");
						l_165372 = currentcbs->Sup.len;
						{
							nimln(2988, "system.nim");
							while (1) {
								nimln(2988, "system.nim");
								if (!(i_165370 < l_165372)) goto LA14;
								nimln(2989, "system.nim");
								if ((NU)(i_165370) >= (NU)(currentcbs->Sup.len)) raiseIndexError();
								cb_165222.ClEnv = currentcbs->data[i_165370].ClEnv;
								cb_165222.ClPrc = currentcbs->data[i_165370].ClPrc;
								nimln(888, "asyncdispatch.nim");
								{
									NIM_BOOL LOC17;
									nimln(888, "asyncdispatch.nim");
									nimln(888, "asyncdispatch.nim");
									LOC17 = 0;
									LOC17 = cb_165222.ClEnv? cb_165222.ClPrc((*data).Fd, cb_165222.ClEnv):((TMP383)(cb_165222.ClPrc))((*data).Fd);
									if (!!(LOC17)) goto LA18;
									nimln(890, "asyncdispatch.nim");
									(*data).Readcbs = (TY164213*) incrSeq(&((*data).Readcbs)->Sup, sizeof(tcallback164204));
									asgnRef((void**) (&(*data).Readcbs->data[(*data).Readcbs->Sup.len-1].ClEnv), cb_165222.ClEnv);
									(*data).Readcbs->data[(*data).Readcbs->Sup.len-1].ClPrc = cb_165222.ClPrc;
								}
								LA18: ;
								nimln(2990, "system.nim");
								i_165370 = addInt(i_165370, 1);
								nimln(2991, "system.nim");
								{
									nimln(2991, "system.nim");
									nimln(2991, "system.nim");
									nimln(2991, "system.nim");
									if (!!((currentcbs->Sup.len == l_165372))) goto LA22;
									nimln(2991, "system.nim");
									failedassertimpl_85425(((NimStringDesc*) &TMP337));
								}
								LA22: ;
							} LA14: ;
						}
					}
				}
				LA10: ;
				nimln(892, "asyncdispatch.nim");
				{
					TY164213* currentcbs;
					nimln(892, "asyncdispatch.nim");
					if (!((info_164822.Field1 &(1<<((((NU8) 1))&7)))!=0)) goto LA26;
					nimln(893, "asyncdispatch.nim");
					currentcbs = (*data).Writecbs;
					nimln(894, "asyncdispatch.nim");
					if ((*data).Writecbs) nimGCunref((*data).Writecbs);
					(*data).Writecbs = (TY164213*) newSeqRC1((&NTI164213), 0);
					{
						tcallback164204 cb_165287;
						NI i_165376;
						NI l_165378;
						memset((void*)(&cb_165287), 0, sizeof(cb_165287));
						nimln(2986, "system.nim");
						i_165376 = 0;
						nimln(2987, "system.nim");
						nimln(2987, "system.nim");
						l_165378 = currentcbs->Sup.len;
						{
							nimln(2988, "system.nim");
							while (1) {
								nimln(2988, "system.nim");
								if (!(i_165376 < l_165378)) goto LA30;
								nimln(2989, "system.nim");
								if ((NU)(i_165376) >= (NU)(currentcbs->Sup.len)) raiseIndexError();
								cb_165287.ClEnv = currentcbs->data[i_165376].ClEnv;
								cb_165287.ClPrc = currentcbs->data[i_165376].ClPrc;
								nimln(896, "asyncdispatch.nim");
								{
									NIM_BOOL LOC33;
									nimln(896, "asyncdispatch.nim");
									nimln(896, "asyncdispatch.nim");
									LOC33 = 0;
									LOC33 = cb_165287.ClEnv? cb_165287.ClPrc((*data).Fd, cb_165287.ClEnv):((TMP384)(cb_165287.ClPrc))((*data).Fd);
									if (!!(LOC33)) goto LA34;
									nimln(898, "asyncdispatch.nim");
									(*data).Writecbs = (TY164213*) incrSeq(&((*data).Writecbs)->Sup, sizeof(tcallback164204));
									asgnRef((void**) (&(*data).Writecbs->data[(*data).Writecbs->Sup.len-1].ClEnv), cb_165287.ClEnv);
									(*data).Writecbs->data[(*data).Writecbs->Sup.len-1].ClPrc = cb_165287.ClPrc;
								}
								LA34: ;
								nimln(2990, "system.nim");
								i_165376 = addInt(i_165376, 1);
								nimln(2991, "system.nim");
								{
									nimln(2991, "system.nim");
									nimln(2991, "system.nim");
									nimln(2991, "system.nim");
									if (!!((currentcbs->Sup.len == l_165378))) goto LA38;
									nimln(2991, "system.nim");
									failedassertimpl_85425(((NimStringDesc*) &TMP337));
								}
								LA38: ;
							} LA30: ;
						}
					}
				}
				LA26: ;
				nimln(900, "asyncdispatch.nim");
				{
					NIM_BOOL LOC42;
					NU8 newevents;
					nimln(900, "asyncdispatch.nim");
					LOC42 = 0;
					LOC42 = contains_162804((*p).Selector, info_164822.Field0);
					if (!LOC42) goto LA43;
					memset((void*)(&newevents), 0, sizeof(newevents));
					nimln(902, "asyncdispatch.nim");
					{
						nimln(902, "asyncdispatch.nim");
						nimln(902, "asyncdispatch.nim");
						nimln(902, "asyncdispatch.nim");
						if (!!(((*data).Readcbs->Sup.len == 0))) goto LA47;
						nimln(902, "asyncdispatch.nim");
						newevents = 1;
					}
					LA47: ;
					nimln(903, "asyncdispatch.nim");
					{
						nimln(903, "asyncdispatch.nim");
						nimln(903, "asyncdispatch.nim");
						nimln(903, "asyncdispatch.nim");
						if (!!(((*data).Writecbs->Sup.len == 0))) goto LA51;
						nimln(903, "asyncdispatch.nim");
						nimln(903, "asyncdispatch.nim");
						newevents = (newevents | 2);
					}
					LA51: ;
					nimln(904, "asyncdispatch.nim");
					{
						nimln(904, "asyncdispatch.nim");
						nimln(904, "asyncdispatch.nim");
						if (!!((newevents == (*info_164822.Field0).Events))) goto LA55;
						nimln(905, "asyncdispatch.nim");
						update_164287((*data).Fd, newevents);
					}
					LA55: ;
				}
				goto LA40;
				LA43: ;
				{
				}
				LA40: ;
				nimln(2990, "system.nim");
				i_165383 = addInt(i_165383, 1);
				nimln(2991, "system.nim");
				{
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					nimln(2991, "system.nim");
					if (!!((HEX3Atmp_165380->Sup.len == l_165385))) goto LA60;
					nimln(2991, "system.nim");
					failedassertimpl_85425(((NimStringDesc*) &TMP337));
				}
				LA60: ;
			} LA3: ;
		}
	}
	nimln(911, "asyncdispatch.nim");
	LOC62 = 0;
	LOC62 = &p->Sup;
	processtimers_161027(LOC62);
	popFrame();
}
N_NIMCALL(void, TMP386)(void* p, NI op) {
	TY165709* a;
	a = (TY165709*)p;
	nimGCvisit((void*)(*a).Retfuture165616, op);
}
N_NIMCALL(void, TMP389)(void* p, NI op) {
	TY165712* a;
	a = (TY165712*)p;
	nimGCvisit((void*)(*a).HEX3Aup165726, op);
}
N_NIMCALL(void, TMP391)(void* p, NI op) {
	TY165715* a;
	a = (TY165715*)p;
	nimGCvisit((void*)(*a).HEX3Aup165723, op);
}

N_CLOSURE(NIM_BOOL, cb_165617)(int fd, void* ClEnv) {
	NIM_BOOL result;
	TY165715* HEX3Aenvp_165721;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_165721 = (TY165715*) ClEnv;
	nimln(919, "asyncdispatch.nim");
	complete_160087((*(*(*HEX3Aenvp_165721).HEX3Aup165723).HEX3Aup165726).Retfuture165616);
	nimln(920, "asyncdispatch.nim");
	nimln(920, "asyncdispatch.nim");
	result = NIM_TRUE;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(futureHEX3Aobjecttype160094*, connect_165416)(int socket, NimStringDesc* address, NU16 port, NU8 af) {
	futureHEX3Aobjecttype160094* result;
	TY165709* HEX3Aenv_165734;
	struct addrinfo* ailist;
	NIM_BOOL success;
	NI32 lasterror;
	struct addrinfo* it;
	nimfr("connect", "asyncdispatch.nim")
	result = 0;
	HEX3Aenv_165734 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_165734 = (TY165709*) newObj((&NTI165735), sizeof(TY165709));
	nimln(915, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_165734).Retfuture165616), newfuture_165426(((NimStringDesc*) &TMP387)));
	nimln(922, "asyncdispatch.nim");
	ailist = getaddrinfo_148208(address, port, af, ((NU8) 1), ((NU8) 6));
	nimln(923, "asyncdispatch.nim");
	success = NIM_FALSE;
	lasterror = 0;
	nimln(925, "asyncdispatch.nim");
	it = ailist;
	{
		TY165712* HEX3Aenv_165732;
		HEX3Aenv_165732 = 0;
		nimln(172, "system.nim");
		HEX3Aenv_165732 = (TY165712*) newObj((&NTI165733), sizeof(TY165712));
		nimln(926, "asyncdispatch.nim");
		asgnRef((void**) (&(*HEX3Aenv_165732).HEX3Aup165726), HEX3Aenv_165734);
		nimln(926, "asyncdispatch.nim");
		while (1) {
			TY165715* HEX3Aenv_165730;
			int ret;
			nimln(926, "asyncdispatch.nim");
			nimln(926, "asyncdispatch.nim");
			if (!!((it == NIM_NIL))) goto LA2;
			HEX3Aenv_165730 = 0;
			nimln(172, "system.nim");
			HEX3Aenv_165730 = (TY165715*) newObj((&NTI165731), sizeof(TY165715));
			nimln(927, "asyncdispatch.nim");
			asgnRef((void**) (&(*HEX3Aenv_165730).HEX3Aup165723), HEX3Aenv_165732);
			nimln(927, "asyncdispatch.nim");
			ret = connect(socket, (*it).ai_addr, (*it).ai_addrlen);
			nimln(928, "asyncdispatch.nim");
			{
				nimln(928, "asyncdispatch.nim");
				if (!(ret == ((NI32) 0))) goto LA5;
				nimln(930, "asyncdispatch.nim");
				success = NIM_TRUE;
				nimln(931, "asyncdispatch.nim");
				complete_160087((*HEX3Aenv_165734).Retfuture165616);
				nimln(932, "asyncdispatch.nim");
				goto LA1;
			}
			goto LA3;
			LA5: ;
			{
				nimln(934, "asyncdispatch.nim");
				lasterror = oslasterror_123041();
				nimln(935, "asyncdispatch.nim");
				{
					NIM_BOOL LOC10;
					tcallback164204 LOC14;
					nimln(935, "asyncdispatch.nim");
					LOC10 = 0;
					nimln(935, "asyncdispatch.nim");
					LOC10 = (lasterror == EINTR);
					if (LOC10) goto LA11;
					nimln(935, "asyncdispatch.nim");
					LOC10 = (lasterror == EINPROGRESS);
					LA11: ;
					if (!LOC10) goto LA12;
					nimln(936, "asyncdispatch.nim");
					success = NIM_TRUE;
					nimln(937, "asyncdispatch.nim");
					memset((void*)(&LOC14), 0, sizeof(LOC14));
					LOC14.ClPrc = cb_165617; LOC14.ClEnv = HEX3Aenv_165730;
					addwrite_164564(socket, LOC14);
					nimln(938, "asyncdispatch.nim");
					goto LA1;
				}
				goto LA8;
				LA12: ;
				{
					nimln(940, "asyncdispatch.nim");
					success = NIM_FALSE;
				}
				LA8: ;
			}
			LA3: ;
			nimln(941, "asyncdispatch.nim");
			it = (*it).ai_next;
		} LA2: ;
	} LA1: ;
	nimln(943, "asyncdispatch.nim");
	dealloc_148429(ailist);
	nimln(944, "asyncdispatch.nim");
	{
		oserror3233* e_165650;
		Exception* LOC20;
		nimln(944, "asyncdispatch.nim");
		if (!!(success)) goto LA18;
		nimln(945, "asyncdispatch.nim");
		e_165650 = 0;
		nimln(2149, "system.nim");
		e_165650 = (oserror3233*) newObj((&NTI148404), sizeof(oserror3233));
		(*e_165650).Sup.Sup.Sup.m_type = (&NTI3233);
		nimln(2150, "system.nim");
		asgnRefNoCycle((void**) (&(*e_165650).Sup.Sup.message), oserrormsg_122820(lasterror));
		LOC20 = 0;
		LOC20 = &e_165650->Sup.Sup;
		fail_165669((*HEX3Aenv_165734).Retfuture165616, LOC20);
	}
	LA18: ;
	nimln(946, "asyncdispatch.nim");
	nimln(946, "asyncdispatch.nim");
	result = (*HEX3Aenv_165734).Retfuture165616;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP396)(void* p, NI op) {
	TY166712* a;
	a = (TY166712*)p;
	nimGCvisit((void*)(*a).Readbuffer165817, op);
	nimGCvisit((void*)(*a).Retfuture165816, op);
}

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (a <= i);
		if (!(LOC3)) goto LA4;
		LOC3 = (i <= b);
		LA4: ;
		if (!LOC3) goto LA5;
		result = i;
		goto BeforeRet;
	}
	goto LA1;
	LA5: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1: ;
	BeforeRet: ;
	return result;
}

N_CLOSURE(NIM_BOOL, cb_165818)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY166712* HEX3Aenvp_166718;
	NI res;
	int LOC1;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_166718 = (TY166712*) ClEnv;
	nimln(955, "asyncdispatch.nim");
	result = NIM_TRUE;
	nimln(956, "asyncdispatch.nim");
	if ((NU)(0) > (NU)((*HEX3Aenvp_166718).Readbuffer165817->Sup.len)) raiseIndexError();
	nimln(957, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = toosflags_152637((*HEX3Aenvp_166718).Flags165742);
	res = recv(sock, ((void*) ((&(*HEX3Aenvp_166718).Readbuffer165817->data[0]))), ((NI) (((int)chckRange((*HEX3Aenvp_166718).Size165739, ((int) (-2147483647 -1)), ((int) 2147483647))))), LOC1);
	nimln(959, "asyncdispatch.nim");
	{
		NI32 lasterror;
		nimln(959, "asyncdispatch.nim");
		if (!(res < 0)) goto LA4;
		nimln(960, "asyncdispatch.nim");
		lasterror = oslasterror_123041();
		nimln(961, "asyncdispatch.nim");
		{
			nimln(961, "asyncdispatch.nim");
			nimln(961, "asyncdispatch.nim");
			if (!!((lasterror == ((NI)chckRange(EINTR, 0, 65535)) || lasterror == ((NI)chckRange(EWOULDBLOCK, 0, 65535)) || lasterror == ((NI)chckRange(EAGAIN, 0, 65535))))) goto LA8;
			nimln(962, "asyncdispatch.nim");
			{
				NIM_BOOL LOC12;
				nimln(962, "asyncdispatch.nim");
				LOC12 = 0;
				LOC12 = isdisconnectionerror_152450((*HEX3Aenvp_166718).Flags165742, lasterror);
				if (!LOC12) goto LA13;
				nimln(963, "asyncdispatch.nim");
				complete_165843((*HEX3Aenvp_166718).Retfuture165816, ((NimStringDesc*) &TMP398));
			}
			goto LA10;
			LA13: ;
			{
				oserror3233* e_166633;
				Exception* LOC16;
				nimln(965, "asyncdispatch.nim");
				e_166633 = 0;
				nimln(2149, "system.nim");
				e_166633 = (oserror3233*) newObj((&NTI148404), sizeof(oserror3233));
				(*e_166633).Sup.Sup.Sup.m_type = (&NTI3233);
				nimln(2150, "system.nim");
				asgnRefNoCycle((void**) (&(*e_166633).Sup.Sup.message), oserrormsg_122820(lasterror));
				LOC16 = 0;
				LOC16 = &e_166633->Sup.Sup;
				fail_166652((*HEX3Aenvp_166718).Retfuture165816, LOC16);
			}
			LA10: ;
		}
		goto LA6;
		LA8: ;
		{
			nimln(967, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		LA6: ;
	}
	goto LA2;
	LA4: ;
	{
		nimln(968, "asyncdispatch.nim");
		if (!(res == 0)) goto LA19;
		nimln(970, "asyncdispatch.nim");
		complete_165843((*HEX3Aenvp_166718).Retfuture165816, ((NimStringDesc*) &TMP398));
	}
	goto LA2;
	LA19: ;
	{
		nimln(972, "asyncdispatch.nim");
		(*HEX3Aenvp_166718).Readbuffer165817 = setLengthStr((*HEX3Aenvp_166718).Readbuffer165817, res);
		nimln(973, "asyncdispatch.nim");
		complete_165843((*HEX3Aenvp_166718).Retfuture165816, (*HEX3Aenvp_166718).Readbuffer165817);
	}
	LA2: ;
	popFrame();
	return result;
}

N_NIMCALL(futureHEX3Aobjecttype165748*, recv_165736)(int socket, NI size, NU8 flags) {
	futureHEX3Aobjecttype165748* result;
	TY166712* HEX3Aenv_166724;
	tcallback164204 LOC1;
	nimfr("recv", "asyncdispatch.nim")
	result = 0;
	HEX3Aenv_166724 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_166724 = (TY166712*) newObj((&NTI166725), sizeof(TY166712));
	nimln(950, "asyncdispatch.nim");
	(*HEX3Aenv_166724).Size165739 = size;
	nimln(950, "asyncdispatch.nim");
	(*HEX3Aenv_166724).Flags165742 = flags;
	nimln(950, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_166724).Retfuture165816), newfuture_165753(((NimStringDesc*) &TMP397)));
	nimln(952, "asyncdispatch.nim");
	nimln(952, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*HEX3Aenv_166724).Readbuffer165817), mnewString((*HEX3Aenv_166724).Size165739));
	nimln(976, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = cb_165818; LOC1.ClEnv = HEX3Aenv_166724;
	addread_164496(socket, LOC1);
	nimln(977, "asyncdispatch.nim");
	nimln(977, "asyncdispatch.nim");
	result = (*HEX3Aenv_166724).Retfuture165816;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP400)(void* p, NI op) {
	TY166823* a;
	a = (TY166823*)p;
	nimGCvisit((void*)(*a).Data166729, op);
	nimGCvisit((void*)(*a).Retfuture166744, op);
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
	result = 0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (0 <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (0 <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	BeforeRet: ;
	return result;
}

N_CLOSURE(NIM_BOOL, cb_166746)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY166823* HEX3Aenvp_166829;
	NI netsize;
	NI TMP402;
	NCSTRING d;
	NI res;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_166829 = (TY166823*) ClEnv;
	nimln(986, "asyncdispatch.nim");
	result = NIM_TRUE;
	nimln(987, "asyncdispatch.nim");
	nimln(987, "asyncdispatch.nim");
	nimln(987, "asyncdispatch.nim");
	TMP402 = subInt((*HEX3Aenvp_166829).Data166729->Sup.len, (*HEX3Aenvp_166829).Written166745);
	netsize = (NI64)(TMP402);
	nimln(988, "asyncdispatch.nim");
	d = (*HEX3Aenvp_166829).Data166729->data;
	nimln(989, "asyncdispatch.nim");
	res = send(sock, ((void*) ((&d[(*HEX3Aenvp_166829).Written166745]))), ((NI) (((int)chckRange(netsize, ((int) (-2147483647 -1)), ((int) 2147483647))))), msgnosignal_114606);
	nimln(991, "asyncdispatch.nim");
	{
		NI32 lasterror;
		nimln(991, "asyncdispatch.nim");
		if (!(res < 0)) goto LA3;
		nimln(992, "asyncdispatch.nim");
		lasterror = oslasterror_123041();
		nimln(993, "asyncdispatch.nim");
		{
			nimln(993, "asyncdispatch.nim");
			nimln(993, "asyncdispatch.nim");
			if (!!((lasterror == ((NI)chckRange(EINTR, 0, 65535)) || lasterror == ((NI)chckRange(EWOULDBLOCK, 0, 65535)) || lasterror == ((NI)chckRange(EAGAIN, 0, 65535))))) goto LA7;
			nimln(994, "asyncdispatch.nim");
			{
				NIM_BOOL LOC11;
				nimln(994, "asyncdispatch.nim");
				LOC11 = 0;
				LOC11 = isdisconnectionerror_152450((*HEX3Aenvp_166829).Flags166732, lasterror);
				if (!LOC11) goto LA12;
				nimln(995, "asyncdispatch.nim");
				complete_160087((*HEX3Aenvp_166829).Retfuture166744);
			}
			goto LA9;
			LA12: ;
			{
				oserror3233* e_166776;
				Exception* LOC15;
				nimln(997, "asyncdispatch.nim");
				e_166776 = 0;
				nimln(2149, "system.nim");
				e_166776 = (oserror3233*) newObj((&NTI148404), sizeof(oserror3233));
				(*e_166776).Sup.Sup.Sup.m_type = (&NTI3233);
				nimln(2150, "system.nim");
				asgnRefNoCycle((void**) (&(*e_166776).Sup.Sup.message), oserrormsg_122820(lasterror));
				LOC15 = 0;
				LOC15 = &e_166776->Sup.Sup;
				fail_165669((*HEX3Aenvp_166829).Retfuture166744, LOC15);
			}
			LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			nimln(999, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		nimln(1001, "asyncdispatch.nim");
		(*HEX3Aenvp_166829).Written166745 = addInt((*HEX3Aenvp_166829).Written166745, res);
		nimln(1002, "asyncdispatch.nim");
		{
			nimln(1002, "asyncdispatch.nim");
			nimln(1002, "asyncdispatch.nim");
			if (!!((res == netsize))) goto LA20;
			nimln(1003, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		goto LA18;
		LA20: ;
		{
			nimln(1005, "asyncdispatch.nim");
			complete_160087((*HEX3Aenvp_166829).Retfuture166744);
		}
		LA18: ;
	}
	LA1: ;
	popFrame();
	return result;
}

N_NIMCALL(futureHEX3Aobjecttype160094*, send_166726)(int socket, NimStringDesc* data, NU8 flags) {
	futureHEX3Aobjecttype160094* result;
	TY166823* HEX3Aenv_166835;
	NimStringDesc* LOC1;
	tcallback164204 LOC2;
	nimfr("send", "asyncdispatch.nim")
	result = 0;
	HEX3Aenv_166835 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_166835 = (TY166823*) newObj((&NTI166836), sizeof(TY166823));
	nimln(981, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*HEX3Aenv_166835).Data166729; (*HEX3Aenv_166835).Data166729 = copyStringRC1(data);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(981, "asyncdispatch.nim");
	(*HEX3Aenv_166835).Flags166732 = flags;
	nimln(981, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_166835).Retfuture166744), newfuture_165426(((NimStringDesc*) &TMP401)));
	nimln(983, "asyncdispatch.nim");
	(*HEX3Aenv_166835).Written166745 = 0;
	nimln(1008, "asyncdispatch.nim");
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = cb_166746; LOC2.ClEnv = HEX3Aenv_166835;
	addwrite_164564(socket, LOC2);
	nimln(1009, "asyncdispatch.nim");
	nimln(1009, "asyncdispatch.nim");
	result = (*HEX3Aenv_166835).Retfuture166744;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP404)(void* p, NI op) {
	TY168039* a;
	a = (TY168039*)p;
	nimGCvisit((void*)(*a).Retfuture167016, op);
}

N_CLOSURE(NIM_BOOL, cb_167017)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY168039* HEX3Aenvp_168045;
	struct sockaddr_in sockaddress;
	socklen_t addrlen;
	int client;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_168045 = (TY168039*) ClEnv;
	nimln(1016, "asyncdispatch.nim");
	result = NIM_TRUE;
	memset((void*)(&sockaddress), 0, sizeof(sockaddress));
	nimln(1018, "asyncdispatch.nim");
	nimln(1018, "asyncdispatch.nim");
	addrlen = ((socklen_t) (((NI)sizeof(struct sockaddr_in))));
	nimln(1019, "asyncdispatch.nim");
	client = accept(sock, ((struct sockaddr*) ((&sockaddress))), (&addrlen));
	nimln(1021, "asyncdispatch.nim");
	{
		NI32 lasterror;
		nimln(1021, "asyncdispatch.nim");
		if (!(client == osinvalidsocket_147460)) goto LA3;
		nimln(1022, "asyncdispatch.nim");
		lasterror = oslasterror_123041();
		nimln(1023, "asyncdispatch.nim");
		{
			nimln(1023, "asyncdispatch.nim");
			nimln(1023, "asyncdispatch.nim");
			nimln(1023, "asyncdispatch.nim");
			if (!!(!((lasterror == ((NI)chckRange(EWOULDBLOCK, 0, 65535)) || lasterror == ((NI)chckRange(EAGAIN, 0, 65535)))))) goto LA7;
			nimln(1023, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP406));
		}
		LA7: ;
		nimln(1024, "asyncdispatch.nim");
		{
			nimln(1024, "asyncdispatch.nim");
			if (!(lasterror == EINTR)) goto LA11;
			nimln(1025, "asyncdispatch.nim");
			nimln(1025, "asyncdispatch.nim");
			result = NIM_FALSE;
			goto BeforeRet;
		}
		goto LA9;
		LA11: ;
		{
			nimln(1027, "asyncdispatch.nim");
			{
				NIM_BOOL LOC16;
				nimln(1027, "asyncdispatch.nim");
				LOC16 = 0;
				LOC16 = isdisconnectionerror_152450((*HEX3Aenvp_168045).Flags166842, lasterror);
				if (!LOC16) goto LA17;
				nimln(1028, "asyncdispatch.nim");
				nimln(1028, "asyncdispatch.nim");
				result = NIM_FALSE;
				goto BeforeRet;
			}
			goto LA14;
			LA17: ;
			{
				oserror3233* e_167219;
				Exception* LOC20;
				nimln(1030, "asyncdispatch.nim");
				e_167219 = 0;
				nimln(2149, "system.nim");
				e_167219 = (oserror3233*) newObj((&NTI148404), sizeof(oserror3233));
				(*e_167219).Sup.Sup.Sup.m_type = (&NTI3233);
				nimln(2150, "system.nim");
				asgnRefNoCycle((void**) (&(*e_167219).Sup.Sup.message), oserrormsg_122820(lasterror));
				LOC20 = 0;
				LOC20 = &e_167219->Sup.Sup;
				fail_167238((*HEX3Aenvp_168045).Retfuture167016, LOC20);
			}
			LA14: ;
		}
		LA9: ;
	}
	goto LA1;
	LA3: ;
	{
		TY166844 LOC22;
		NCSTRING LOC23;
		nimln(1032, "asyncdispatch.nim");
		register_164406(client);
		nimln(1033, "asyncdispatch.nim");
		memset((void*)(&LOC22), 0, sizeof(LOC22));
		nimln(1033, "asyncdispatch.nim");
		nimln(1033, "asyncdispatch.nim");
		LOC23 = 0;
		LOC23 = inet_ntoa(sockaddress.sin_addr);
		LOC22.Field0 = cstrToNimstr(LOC23);
		LOC22.Field1 = client;
		complete_167819((*HEX3Aenvp_168045).Retfuture167016, LOC22);
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(futureHEX3Aobjecttype166851*, acceptaddr_166837)(int socket, NU8 flags) {
	futureHEX3Aobjecttype166851* result;
	TY168039* HEX3Aenv_168049;
	tcallback164204 LOC1;
	nimfr("acceptAddr", "asyncdispatch.nim")
	result = 0;
	HEX3Aenv_168049 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_168049 = (TY168039*) newObj((&NTI168050), sizeof(TY168039));
	nimln(1013, "asyncdispatch.nim");
	(*HEX3Aenv_168049).Flags166842 = flags;
	nimln(1013, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_168049).Retfuture167016), newfuture_166859(((NimStringDesc*) &TMP405)));
	nimln(1034, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = cb_167017; LOC1.ClEnv = HEX3Aenv_168049;
	addread_164496(socket, LOC1);
	nimln(1035, "asyncdispatch.nim");
	nimln(1035, "asyncdispatch.nim");
	result = (*HEX3Aenv_168049).Retfuture167016;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NF, HEX2F_84600)(NI x, NI y) {
	NF result;
	nimfr("/", "system.nim")
	result = 0;
	nimln(2749, "system.nim");
	nimln(2749, "system.nim");
	nimln(2749, "system.nim");
	nimln(2749, "system.nim");
	result = ((NF)(((double) (x))) / (NF)(((double) (y))));
	popFrame();
	return result;
}

N_NIMCALL(futureHEX3Aobjecttype160094*, sleepasync_168209)(NI ms) {
	futureHEX3Aobjecttype160094* result;
	futureHEX3Aobjecttype160094* retfuture;
	pdispatcherHEX3Aobjecttype164217* p;
	TY161017 LOC1;
	NF LOC2;
	NF LOC3;
	nimfr("sleepAsync", "asyncdispatch.nim")
	result = 0;
	nimln(1040, "asyncdispatch.nim");
	retfuture = newfuture_165426(((NimStringDesc*) &TMP407));
	nimln(1041, "asyncdispatch.nim");
	p = getglobaldispatcher_164270();
	nimln(1042, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	nimln(1042, "asyncdispatch.nim");
	nimln(1042, "asyncdispatch.nim");
	LOC2 = 0;
	LOC2 = ntepochTime();
	nimln(1042, "asyncdispatch.nim");
	LOC3 = 0;
	LOC3 = HEX2F_84600(ms, 1000);
	LOC1.Field0 = ((NF)(LOC2) + (NF)(LOC3));
	LOC1.Field1 = retfuture;
	(*p).Sup.Timers = (TY161016*) incrSeq(&((*p).Sup.Timers)->Sup, sizeof(TY161017));
	(*p).Sup.Timers->data[(*p).Sup.Timers->Sup.len-1].Field0 = LOC1.Field0;
	asgnRef((void**) (&(*p).Sup.Timers->data[(*p).Sup.Timers->Sup.len-1].Field1), LOC1.Field1);
	nimln(1043, "asyncdispatch.nim");
	nimln(1043, "asyncdispatch.nim");
	result = retfuture;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP408)(void* p, NI op) {
	futureHEX3Aobjecttype168263* a;
	a = (futureHEX3Aobjecttype168263*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
}

N_NIMCALL(futureHEX3Aobjecttype168263*, newfuture_168268)(NimStringDesc* fromproc_168272) {
	futureHEX3Aobjecttype168263* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype168263*) newObj((&NTI168262), sizeof(futureHEX3Aobjecttype168263));
	(*result).Sup.Sup.m_type = (&NTI168263);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_168272);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_168615)(futureHEX3Aobjecttype168263* future_168621) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_168621).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_168621).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_168621).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_168621).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_168603)(futureHEX3Aobjecttype168263* future_168609, Exception* error_168612) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_168615(future_168609);
	nimln(201, "asyncdispatch.nim");
	(*future_168609).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_168609).Sup.Error), error_168612);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_168612);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_168609).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_168609).Sup.Errorstacktrace), getstacktrace_16003(error_168612));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_168609).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_168609).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_168609).Sup.Cb.ClEnv? (*future_168609).Sup.Cb.ClPrc((*future_168609).Sup.Cb.ClEnv):((TMP409)((*future_168609).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_169247)(futureHEX3Aobjecttype166851* future_169253) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\012", (((NimStringDesc*) &TMP410))->data, ((*future_169253).Sup.Fromproc)->data, (((NimStringDesc*) &TMP411))->data);
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(237, "asyncdispatch.nim");
		LOC3 = 0;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((*future_169253).Sup.Errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((((*future_169253).Sup.Errorstacktrace) && ((*future_169253).Sup.Errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		nimln(238, "asyncdispatch.nim");
		printf("%s\012", ((*future_169253).Sup.Errorstacktrace)->data);
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		nimln(240, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP412))->data);
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	nimln(241, "asyncdispatch.nim");
	printf("%s\012", (((NimStringDesc*) &TMP413))->data);
	popFrame();
}

N_NIMCALL(void, read_169219)(futureHEX3Aobjecttype166851* future_169225, TY166844* Result) {
	nimfr("read", "asyncdispatch.nim")
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future_169225).Sup.Finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			nimln(249, "asyncdispatch.nim");
			nimln(249, "asyncdispatch.nim");
			if (!!(((*future_169225).Sup.Error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_169247(future_169225);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future_169225).Sup.Error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		nimln(253, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future_169225).Value.Field0));
		(*Result).Field1 = (*future_169225).Value.Field1;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_169602;
		NimStringDesc* LOC10;
		e_169602 = 0;
		nimln(2149, "system.nim");
		e_169602 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_169602).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_169602).Sup.message; (*e_169602).Sup.message = copyStringRC1(((NimStringDesc*) &TMP414));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_169602, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
}

N_NIMCALL(void, complete_169625)(futureHEX3Aobjecttype168263* future_169631, int val_169634) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_168615(future_169631);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_169631).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	(*future_169631).Value = val_169634;
	nimln(184, "asyncdispatch.nim");
	(*future_169631).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_169631).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_169631).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future_169631).Sup.Cb.ClEnv? (*future_169631).Sup.Cb.ClPrc((*future_169631).Sup.Cb.ClEnv):((TMP415)((*future_169631).Sup.Cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP418)(void* p, NI op) {
	TY169865* a;
	a = (TY169865*)p;
	nimGCvisit((void*)(*a).Cb169856.ClEnv, op);
	nimGCvisit((void*)(*a).Future169844, op);
}

N_CLOSURE(void, HEX3Aanonymous_169860)(void* ClEnv) {
	TY169865* HEX3Aenvp_169871;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_169871 = (TY169865*) ClEnv;
	nimln(231, "asyncdispatch.nim");
	(*HEX3Aenvp_169871).Cb169856.ClEnv? (*HEX3Aenvp_169871).Cb169856.ClPrc((*HEX3Aenvp_169871).Future169844, (*HEX3Aenvp_169871).Cb169856.ClEnv):((TMP419)((*HEX3Aenvp_169871).Cb169856.ClPrc))((*HEX3Aenvp_169871).Future169844);
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_169838)(futureHEX3Aobjecttype166851* future_169844, TY169857 cb_169856) {
	TY169865* HEX3Aenv_169875;
	futurebaseHEX3Aobjecttype160014* LOC1;
	TY160015 LOC2;
	nimfr("callback=", "asyncdispatch.nim")
	HEX3Aenv_169875 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_169875 = (TY169865*) newObj((&NTI169876), sizeof(TY169865));
	nimln(228, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_169875).Cb169856.ClEnv), cb_169856.ClEnv);
	(*HEX3Aenv_169875).Cb169856.ClPrc = cb_169856.ClPrc;
	nimln(228, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_169875).Future169844), future_169844);
	nimln(231, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_169875).Future169844->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_169860; LOC2.ClEnv = HEX3Aenv_169875;
	callbackHEX3D_160849(LOC1, LOC2);
	popFrame();
}
N_NIMCALL(void, TMP421)(void* p, NI op) {
	TY169878* a;
	a = (TY169878*)p;
	nimGCvisit((void*)(*a).Retfut168416, op);
}

N_CLOSURE(void, HEX3Aanonymous_168418)(futureHEX3Aobjecttype166851* future, void* ClEnv) {
	TY169878* HEX3Aenvp_169884;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_169884 = (TY169878*) ClEnv;
	nimln(1054, "asyncdispatch.nim");
	{
		nimln(1054, "asyncdispatch.nim");
		if (!!((*future).Sup.Finished)) goto LA3;
		nimln(1054, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP423));
	}
	LA3: ;
	nimln(1055, "asyncdispatch.nim");
	{
		futurebaseHEX3Aobjecttype160014* LOC7;
		NIM_BOOL LOC8;
		nimln(1055, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = &future->Sup;
		LOC8 = 0;
		LOC8 = failed_160931(LOC7);
		if (!LOC8) goto LA9;
		nimln(1056, "asyncdispatch.nim");
		fail_168603((*HEX3Aenvp_169884).Retfut168416, (*future).Sup.Error);
	}
	goto LA5;
	LA9: ;
	{
		TY166844 LOC12;
		nimln(1058, "asyncdispatch.nim");
		nimln(1058, "asyncdispatch.nim");
		memset((void*)(&LOC12), 0, sizeof(LOC12));
		read_169219(future, (&LOC12));
		complete_169625((*HEX3Aenvp_169884).Retfut168416, LOC12.Field1);
	}
	LA5: ;
	popFrame();
}

N_NIMCALL(futureHEX3Aobjecttype168263*, accept_168252)(int socket, NU8 flags) {
	futureHEX3Aobjecttype168263* result;
	TY169878* HEX3Aenv_169887;
	futureHEX3Aobjecttype166851* fut;
	TY169857 LOC1;
	nimfr("accept", "asyncdispatch.nim")
	result = 0;
	HEX3Aenv_169887 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_169887 = (TY169878*) newObj((&NTI169888), sizeof(TY169878));
	nimln(1050, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_169887).Retfut168416), newfuture_168268(((NimStringDesc*) &TMP422)));
	nimln(1051, "asyncdispatch.nim");
	fut = acceptaddr_166837(socket, flags);
	nimln(1052, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = HEX3Aanonymous_168418; LOC1.ClEnv = HEX3Aenv_169887;
	callbackHEX3D_169838(fut, LOC1);
	nimln(1059, "asyncdispatch.nim");
	nimln(1059, "asyncdispatch.nim");
	result = (*HEX3Aenv_169887).Retfut168416;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, echooriginalstacktrace_170705)(futureHEX3Aobjecttype165748* future_170711) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\012", (((NimStringDesc*) &TMP410))->data, ((*future_170711).Sup.Fromproc)->data, (((NimStringDesc*) &TMP411))->data);
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(237, "asyncdispatch.nim");
		LOC3 = 0;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((*future_170711).Sup.Errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((((*future_170711).Sup.Errorstacktrace) && ((*future_170711).Sup.Errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		nimln(238, "asyncdispatch.nim");
		printf("%s\012", ((*future_170711).Sup.Errorstacktrace)->data);
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		nimln(240, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP412))->data);
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	nimln(241, "asyncdispatch.nim");
	printf("%s\012", (((NimStringDesc*) &TMP413))->data);
	popFrame();
}

N_NIMCALL(NimStringDesc*, read_170677)(futureHEX3Aobjecttype165748* future_170683) {
	NimStringDesc* result;
	nimfr("read", "asyncdispatch.nim")
	result = 0;
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future_170683).Sup.Finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			nimln(249, "asyncdispatch.nim");
			nimln(249, "asyncdispatch.nim");
			if (!!(((*future_170683).Sup.Error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_170705(future_170683);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future_170683).Sup.Error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		nimln(253, "asyncdispatch.nim");
		result = copyString((*future_170683).Value);
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_171002;
		NimStringDesc* LOC10;
		e_171002 = 0;
		nimln(2149, "system.nim");
		e_171002 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_171002).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_171002).Sup.message; (*e_171002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP414));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_171002, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, finished_171246)(TY170666 x_171250) {
	NIM_BOOL result;
	nimfr("finished", "system.nim")
	result = 0;
	nimln(2696, "system.nim");
	      result = *((NI*) x_171250.ClEnv) < 0;
      
	popFrame();
	return result;
}
N_NIMCALL(void, TMP426)(void* p, NI op) {
	TY171414* a;
	a = (TY171414*)p;
	nimGCvisit((void*)(*a).Retfuture170648, op);
	nimGCvisit((void*)(*a).Nameitervar171240.ClEnv, op);
	nimGCvisit((void*)(*a).Result170668, op);
	nimGCvisit((void*)(*a).C170674, op);
	nimGCvisit((void*)(*a).Future170650, op);
	nimGCvisit((void*)(*a).Future170651, op);
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI64)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((NCSTRING) ((*src).data)), (NI64)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

N_CLOSURE(futurebaseHEX3Aobjecttype160014*, recvlineiter_170649)(void* ClEnv) {
	futurebaseHEX3Aobjecttype160014* result_170667;
	TY171414* HEX3Aenvp_171420;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	nimfr("recvLineIter", "asyncdispatch.nim")
	result_170667 = 0;
	HEX3Aenvp_171420 = (TY171414*) ClEnv;
	switch ((*HEX3Aenvp_171420).HEX3Astate) {
	case -1: goto BeforeRet;
	case 0: goto STATE0;
	case 1: goto STATE1;
	case 2: goto STATE2;
	}
	STATE0: ;
	nimln(1354, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*HEX3Aenvp_171420).Result170668; (*HEX3Aenvp_171420).Result170668 = copyStringRC1(((NimStringDesc*) &TMP398));
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(1355, "asyncdispatch.nim");
	LOC2 = 0;
	LOC2 = (*HEX3Aenvp_171420).C170674; (*HEX3Aenvp_171420).C170674 = copyStringRC1(((NimStringDesc*) &TMP398));
	if (LOC2) nimGCunrefNoCycle(LOC2);
	{
		nimln(1356, "asyncdispatch.nim");
		while (1) {
			nimln(1357, "asyncdispatch.nim");
			asgnRef((void**) (&(*HEX3Aenvp_171420).Future170650), recv_165736((*HEX3Aenvp_171420).Socket170654, 1, 2));
			nimln(1357, "asyncdispatch.nim");
			(*HEX3Aenvp_171420).HEX3Astate = 1;
			nimln(1357, "asyncdispatch.nim");
			nimln(1137, "asyncdispatch.nim");
			result_170667 = &(*HEX3Aenvp_171420).Future170650->Sup;
			goto BeforeRet;
			STATE1: ;
			nimln(1357, "asyncdispatch.nim");
			asgnRefNoCycle((void**) (&(*HEX3Aenvp_171420).C170674), read_170677((*HEX3Aenvp_171420).Future170650));
			nimln(1358, "asyncdispatch.nim");
			{
				nimln(1358, "asyncdispatch.nim");
				nimln(1358, "asyncdispatch.nim");
				if (!((*HEX3Aenvp_171420).C170674->Sup.len == 0)) goto LA7;
				nimln(1359, "asyncdispatch.nim");
				complete_165843((*HEX3Aenvp_171420).Retfuture170648, ((NimStringDesc*) &TMP398));
				nimln(1359, "asyncdispatch.nim");
				(*HEX3Aenvp_171420).HEX3Astate = -1;
				nimln(1359, "asyncdispatch.nim");
				nimln(1359, "asyncdispatch.nim");
				result_170667 = NIM_NIL;
				goto BeforeRet;
			}
			LA7: ;
			nimln(1360, "asyncdispatch.nim");
			{
				nimln(1360, "asyncdispatch.nim");
				if (!eqStrings((*HEX3Aenvp_171420).C170674, ((NimStringDesc*) &TMP428))) goto LA11;
				nimln(1361, "asyncdispatch.nim");
				asgnRef((void**) (&(*HEX3Aenvp_171420).Future170651), recv_165736((*HEX3Aenvp_171420).Socket170654, 1, 2));
				nimln(1361, "asyncdispatch.nim");
				(*HEX3Aenvp_171420).HEX3Astate = 2;
				nimln(1361, "asyncdispatch.nim");
				nimln(1137, "asyncdispatch.nim");
				result_170667 = &(*HEX3Aenvp_171420).Future170651->Sup;
				goto BeforeRet;
				STATE2: ;
				nimln(1361, "asyncdispatch.nim");
				asgnRefNoCycle((void**) (&(*HEX3Aenvp_171420).C170674), read_170677((*HEX3Aenvp_171420).Future170651));
				nimln(1362, "asyncdispatch.nim");
				{
					nimln(1362, "asyncdispatch.nim");
					nimln(1362, "asyncdispatch.nim");
					if (!!(eqStrings((*HEX3Aenvp_171420).C170674, ((NimStringDesc*) &TMP429)))) goto LA15;
					nimln(1362, "asyncdispatch.nim");
					failedassertimpl_85425(((NimStringDesc*) &TMP430));
				}
				LA15: ;
				nimln(1351, "asyncdispatch.nim");
				{
					nimln(1351, "asyncdispatch.nim");
					nimln(1351, "asyncdispatch.nim");
					if (!((*HEX3Aenvp_171420).Result170668->Sup.len == 0)) goto LA19;
					nimln(1352, "asyncdispatch.nim");
					(*HEX3Aenvp_171420).Result170668 = resizeString((*HEX3Aenvp_171420).Result170668, 2);
appendString((*HEX3Aenvp_171420).Result170668, ((NimStringDesc*) &TMP431));
				}
				LA19: ;
				nimln(1576, "os.nim");
				complete_165843((*HEX3Aenvp_171420).Retfuture170648, (*HEX3Aenvp_171420).Result170668);
				nimln(1364, "asyncdispatch.nim");
				(*HEX3Aenvp_171420).HEX3Astate = -1;
				nimln(1364, "asyncdispatch.nim");
				nimln(1576, "os.nim");
				result_170667 = NIM_NIL;
				goto BeforeRet;
			}
			goto LA9;
			LA11: ;
			{
				nimln(1365, "asyncdispatch.nim");
				if (!eqStrings((*HEX3Aenvp_171420).C170674, ((NimStringDesc*) &TMP429))) goto LA22;
				nimln(1351, "asyncdispatch.nim");
				{
					nimln(1351, "asyncdispatch.nim");
					nimln(1351, "asyncdispatch.nim");
					if (!((*HEX3Aenvp_171420).Result170668->Sup.len == 0)) goto LA26;
					nimln(1352, "asyncdispatch.nim");
					(*HEX3Aenvp_171420).Result170668 = resizeString((*HEX3Aenvp_171420).Result170668, 2);
appendString((*HEX3Aenvp_171420).Result170668, ((NimStringDesc*) &TMP431));
				}
				LA26: ;
				nimln(1576, "os.nim");
				complete_165843((*HEX3Aenvp_171420).Retfuture170648, (*HEX3Aenvp_171420).Result170668);
				nimln(1367, "asyncdispatch.nim");
				(*HEX3Aenvp_171420).HEX3Astate = -1;
				nimln(1367, "asyncdispatch.nim");
				nimln(1576, "os.nim");
				result_170667 = NIM_NIL;
				goto BeforeRet;
			}
			goto LA9;
			LA22: ;
			LA9: ;
			nimln(1368, "asyncdispatch.nim");
			(*HEX3Aenvp_171420).Result170668 = resizeString((*HEX3Aenvp_171420).Result170668, (*HEX3Aenvp_171420).C170674->Sup.len + 0);
appendString((*HEX3Aenvp_171420).Result170668, (*HEX3Aenvp_171420).C170674);
		}
	}
	nimln(1368, "asyncdispatch.nim");
	complete_165843((*HEX3Aenvp_171420).Retfuture170648, (*HEX3Aenvp_171420).Result170668);
	nimln(1287, "asyncdispatch.nim");
	(*HEX3Aenvp_171420).HEX3Astate = -1;
	BeforeRet: ;
	popFrame();
	return result_170667;
}

static N_INLINE(void, pushSafePoint)(TSafePoint* s) {
	(*s).hasRaiseAction = NIM_FALSE;
	(*s).prev = exchandler_16443;
	exchandler_16443 = s;
}

static N_INLINE(void, popSafePoint)(void) {
	exchandler_16443 = (*exchandler_16443).prev;
}

static N_INLINE(void, setFrame)(TFrame* s) {
	frameptr_16442 = s;
}

static N_INLINE(Exception*, getCurrentException)(void) {
	Exception* result;
	nimfr("getCurrentException", "system.nim")
	result = 0;
	nimln(2619, "system.nim");
	result = currexception_16445;
	popFrame();
	return result;
}

static N_INLINE(void, popCurrentException)(void) {
	asgnRef((void**) (&currexception_16445), (*currexception_16445).parent);
}

N_CLOSURE(void, cb_171243)(void* ClEnv) {
	TY171414* HEX3Aenvp_171427;
	TSafePoint TMP432;
	nimfr("cb", "asyncdispatch.nim")
	HEX3Aenvp_171427 = (TY171414*) ClEnv;
	nimln(1068, "asyncdispatch.nim");
	pushSafePoint(&TMP432);
	TMP432.status = _setjmp(TMP432.context);
	if (TMP432.status == 0) {
		nimln(1069, "asyncdispatch.nim");
		{
			NIM_BOOL LOC4;
			futurebaseHEX3Aobjecttype160014* next_171242;
			nimln(1069, "asyncdispatch.nim");
			nimln(1069, "asyncdispatch.nim");
			LOC4 = 0;
			LOC4 = finished_171246((*HEX3Aenvp_171427).Nameitervar171240);
			if (!!(LOC4)) goto LA5;
			nimln(1070, "asyncdispatch.nim");
			next_171242 = (*HEX3Aenvp_171427).Nameitervar171240.ClPrc((*HEX3Aenvp_171427).Nameitervar171240.ClEnv);
			nimln(1071, "asyncdispatch.nim");
			{
				nimln(1071, "asyncdispatch.nim");
				if (!(next_171242 == NIM_NIL)) goto LA9;
				nimln(1072, "asyncdispatch.nim");
				{
					nimln(1072, "asyncdispatch.nim");
					if (!!((*(*HEX3Aenvp_171427).Retfuture170648).Sup.Finished)) goto LA13;
					nimln(1072, "asyncdispatch.nim");
					failedassertimpl_85425(((NimStringDesc*) &TMP434));
				}
				LA13: ;
			}
			goto LA7;
			LA9: ;
			{
				TY160015 LOC16;
				nimln(1075, "asyncdispatch.nim");
				memset((void*)(&LOC16), 0, sizeof(LOC16));
				LOC16.ClPrc = cb_171243; LOC16.ClEnv = HEX3Aenvp_171427;
				callbackHEX3D_160849(next_171242, LOC16);
			}
			LA7: ;
		}
		LA5: ;
		popSafePoint();
	}
	else {
		popSafePoint();
		setFrame((TFrame*)&F);
		{
			TMP432.status = 0;
			nimln(1077, "asyncdispatch.nim");
			{
				if (!(*(*HEX3Aenvp_171427).Retfuture170648).Sup.Finished) goto LA21;
				nimln(1080, "asyncdispatch.nim");
				reraiseException();
			}
			goto LA19;
			LA21: ;
			{
				Exception* LOC24;
				nimln(1082, "asyncdispatch.nim");
				nimln(1082, "asyncdispatch.nim");
				LOC24 = 0;
				LOC24 = getCurrentException();
				fail_166652((*HEX3Aenvp_171427).Retfuture170648, LOC24);
			}
			LA19: ;
			popCurrentException();
		}
	}
	if (TMP432.status != 0) reraiseException();
	popFrame();
}

N_NIMCALL(futureHEX3Aobjecttype165748*, recvline_170652)(int socket) {
	futureHEX3Aobjecttype165748* result;
	TY171414* HEX3Aenv_171430;
	TY170666 LOC1;
	TY160015 LOC2;
	nimfr("recvLine", "asyncdispatch.nim")
	result = 0;
	HEX3Aenv_171430 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_171430 = (TY171414*) newObj((&NTI171431), sizeof(TY171414));
	nimln(1332, "asyncdispatch.nim");
	(*HEX3Aenv_171430).Socket170654 = socket;
	nimln(1331, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_171430).Retfuture170648), newfuture_165753(((NimStringDesc*) &TMP427)));
	nimln(1065, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = recvlineiter_170649; LOC1.ClEnv = HEX3Aenv_171430;
	asgnRef((void**) (&(*HEX3Aenv_171430).Nameitervar171240.ClEnv), LOC1.ClEnv);
	(*HEX3Aenv_171430).Nameitervar171240.ClPrc = LOC1.ClPrc;
	nimln(1083, "asyncdispatch.nim");
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = cb_171243; LOC2.ClEnv = HEX3Aenv_171430;
	LOC2.ClEnv? LOC2.ClPrc(LOC2.ClEnv):((TMP435)(LOC2.ClPrc))();
	nimln(1368, "asyncdispatch.nim");
	nimln(1271, "asyncdispatch.nim");
	result = (*HEX3Aenv_171430).Retfuture170648;
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, runforever_171443)(void) {
	nimfr("runForever", "asyncdispatch.nim")
	{
		nimln(1372, "asyncdispatch.nim");
		while (1) {
			nimln(1373, "asyncdispatch.nim");
			poll_164632(500);
		}
	}
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_175652)(futureHEX3Aobjecttype160094* future_175658) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\012", (((NimStringDesc*) &TMP410))->data, ((*future_175658).Sup.Fromproc)->data, (((NimStringDesc*) &TMP411))->data);
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(237, "asyncdispatch.nim");
		LOC3 = 0;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((*future_175658).Sup.Errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((((*future_175658).Sup.Errorstacktrace) && ((*future_175658).Sup.Errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		nimln(238, "asyncdispatch.nim");
		printf("%s\012", ((*future_175658).Sup.Errorstacktrace)->data);
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		nimln(240, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP412))->data);
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	nimln(241, "asyncdispatch.nim");
	printf("%s\012", (((NimStringDesc*) &TMP413))->data);
	popFrame();
}

N_NIMCALL(void, read_175625)(futureHEX3Aobjecttype160094* future_175631) {
	nimfr("read", "asyncdispatch.nim")
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future_175631).Sup.Finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			nimln(249, "asyncdispatch.nim");
			nimln(249, "asyncdispatch.nim");
			if (!!(((*future_175631).Sup.Error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_175652(future_175631);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future_175631).Sup.Error, "Exception");
		}
		LA7: ;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_176002;
		NimStringDesc* LOC10;
		e_176002 = 0;
		nimln(2149, "system.nim");
		e_176002 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_176002).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_176002).Sup.message; (*e_176002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP414));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_176002, "ValueError");
	}
	LA1: ;
	popFrame();
}
N_NIMCALL(void, TMP495)(void* p, NI op) {
	futureHEX3Aobjecttype176454* a;
	a = (futureHEX3Aobjecttype176454*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
}

N_NIMCALL(futureHEX3Aobjecttype176454*, newfuture_176459)(NimStringDesc* fromproc_176463) {
	futureHEX3Aobjecttype176454* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype176454*) newObj((&NTI176453), sizeof(futureHEX3Aobjecttype176454));
	(*result).Sup.Sup.m_type = (&NTI176454);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_176463);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_176828)(futureHEX3Aobjecttype176454* future_176834) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_176834).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_176834).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_176834).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_176834).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_176816)(futureHEX3Aobjecttype176454* future_176822, NI val_176825) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_176828(future_176822);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_176822).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	(*future_176822).Value = val_176825;
	nimln(184, "asyncdispatch.nim");
	(*future_176822).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_176822).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_176822).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future_176822).Sup.Cb.ClEnv? (*future_176822).Sup.Cb.ClPrc((*future_176822).Sup.Cb.ClEnv):((TMP496)((*future_176822).Sup.Cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, fail_177803)(futureHEX3Aobjecttype176454* future_177809, Exception* error_177812) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_176828(future_177809);
	nimln(201, "asyncdispatch.nim");
	(*future_177809).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_177809).Sup.Error), error_177812);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_177812);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_177809).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_177809).Sup.Errorstacktrace), getstacktrace_16003(error_177812));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_177809).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_177809).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_177809).Sup.Cb.ClEnv? (*future_177809).Sup.Cb.ClPrc((*future_177809).Sup.Cb.ClEnv):((TMP497)((*future_177809).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_177930)(futureHEX3Aobjecttype176454* future_177936) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\012", (((NimStringDesc*) &TMP410))->data, ((*future_177936).Sup.Fromproc)->data, (((NimStringDesc*) &TMP411))->data);
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(237, "asyncdispatch.nim");
		LOC3 = 0;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((*future_177936).Sup.Errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((((*future_177936).Sup.Errorstacktrace) && ((*future_177936).Sup.Errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		nimln(238, "asyncdispatch.nim");
		printf("%s\012", ((*future_177936).Sup.Errorstacktrace)->data);
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		nimln(240, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP412))->data);
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	nimln(241, "asyncdispatch.nim");
	printf("%s\012", (((NimStringDesc*) &TMP413))->data);
	popFrame();
}

N_NIMCALL(NI, read_177902)(futureHEX3Aobjecttype176454* future_177908) {
	NI result;
	nimfr("read", "asyncdispatch.nim")
	result = 0;
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future_177908).Sup.Finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			nimln(249, "asyncdispatch.nim");
			nimln(249, "asyncdispatch.nim");
			if (!!(((*future_177908).Sup.Error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_177930(future_177908);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future_177908).Sup.Error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		nimln(253, "asyncdispatch.nim");
		result = (*future_177908).Value;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_178202;
		NimStringDesc* LOC10;
		e_178202 = 0;
		nimln(2149, "system.nim");
		e_178202 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_178202).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_178202).Sup.message; (*e_178202).Sup.message = copyStringRC1(((NimStringDesc*) &TMP414));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_178202, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP532)(void* p, NI op) {
	futureHEX3Aobjecttype179452* a;
	a = (futureHEX3Aobjecttype179452*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
	nimGCvisit((void*)(*a).Value.Field0, op);
	nimGCvisit((void*)(*a).Value.Field1, op);
}

N_NIMCALL(futureHEX3Aobjecttype179452*, newfuture_179460)(NimStringDesc* fromproc_179464) {
	futureHEX3Aobjecttype179452* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype179452*) newObj((&NTI179451), sizeof(futureHEX3Aobjecttype179452));
	(*result).Sup.Sup.m_type = (&NTI179452);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_179464);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, finished_179628)(futureHEX3Aobjecttype166851* future_179634) {
	NIM_BOOL result;
	nimfr("finished", "asyncdispatch.nim")
	result = 0;
	nimln(268, "asyncdispatch.nim");
	result = (*future_179634).Sup.Finished;
	popFrame();
	return result;
}

N_NIMCALL(Exception*, readerror_179815)(futureHEX3Aobjecttype166851* future_179821) {
	Exception* result;
	nimfr("readError", "asyncdispatch.nim")
	result = 0;
	nimln(263, "asyncdispatch.nim");
	{
		nimln(263, "asyncdispatch.nim");
		nimln(263, "asyncdispatch.nim");
		if (!!(((*future_179821).Sup.Error == NIM_NIL))) goto LA3;
		nimln(263, "asyncdispatch.nim");
		nimln(263, "asyncdispatch.nim");
		result = (*future_179821).Sup.Error;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_179842;
		NimStringDesc* LOC6;
		e_179842 = 0;
		nimln(2149, "system.nim");
		e_179842 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_179842).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_179842).Sup.message; (*e_179842).Sup.message = copyStringRC1(((NimStringDesc*) &TMP533));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(265, "asyncdispatch.nim");
		raiseException((Exception*)e_179842, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_179877)(futureHEX3Aobjecttype179452* future_179883) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_179883).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_179883).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_179883).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_179883).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_179865)(futureHEX3Aobjecttype179452* future_179871, Exception* error_179874) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_179877(future_179871);
	nimln(201, "asyncdispatch.nim");
	(*future_179871).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_179871).Sup.Error), error_179874);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_179874);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_179871).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_179871).Sup.Errorstacktrace), getstacktrace_16003(error_179874));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_179871).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_179871).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_179871).Sup.Cb.ClEnv? (*future_179871).Sup.Cb.ClPrc((*future_179871).Sup.Cb.ClEnv):((TMP534)((*future_179871).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, complete_180442)(futureHEX3Aobjecttype179452* future_180448, TY179445 val_180451) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_179877(future_180448);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_180448).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future_180448).Value.Field0; (*future_180448).Value.Field0 = copyStringRC1(val_180451.Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	asgnRefNoCycle((void**) (&(*future_180448).Value.Field1), val_180451.Field1);
	nimln(184, "asyncdispatch.nim");
	(*future_180448).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_180448).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_180448).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA8;
		nimln(186, "asyncdispatch.nim");
		(*future_180448).Sup.Cb.ClEnv? (*future_180448).Sup.Cb.ClPrc((*future_180448).Sup.Cb.ClEnv):((TMP535)((*future_180448).Sup.Cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}
N_NIMCALL(void, TMP540)(void* p, NI op) {
	futureHEX3Aobjecttype180688* a;
	a = (futureHEX3Aobjecttype180688*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
	nimGCvisit((void*)(*a).Value, op);
}

N_NIMCALL(futureHEX3Aobjecttype180688*, newfuture_180693)(NimStringDesc* fromproc_180697) {
	futureHEX3Aobjecttype180688* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype180688*) newObj((&NTI180687), sizeof(futureHEX3Aobjecttype180688));
	(*result).Sup.Sup.m_type = (&NTI180688);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_180697);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, finished_180828)(futureHEX3Aobjecttype179452* future_180834) {
	NIM_BOOL result;
	nimfr("finished", "asyncdispatch.nim")
	result = 0;
	nimln(268, "asyncdispatch.nim");
	result = (*future_180834).Sup.Finished;
	popFrame();
	return result;
}

N_NIMCALL(Exception*, readerror_181015)(futureHEX3Aobjecttype179452* future_181021) {
	Exception* result;
	nimfr("readError", "asyncdispatch.nim")
	result = 0;
	nimln(263, "asyncdispatch.nim");
	{
		nimln(263, "asyncdispatch.nim");
		nimln(263, "asyncdispatch.nim");
		if (!!(((*future_181021).Sup.Error == NIM_NIL))) goto LA3;
		nimln(263, "asyncdispatch.nim");
		nimln(263, "asyncdispatch.nim");
		result = (*future_181021).Sup.Error;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_181042;
		NimStringDesc* LOC6;
		e_181042 = 0;
		nimln(2149, "system.nim");
		e_181042 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_181042).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_181042).Sup.message; (*e_181042).Sup.message = copyStringRC1(((NimStringDesc*) &TMP533));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(265, "asyncdispatch.nim");
		raiseException((Exception*)e_181042, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_181077)(futureHEX3Aobjecttype180688* future_181083) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_181083).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_181083).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_181083).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_181083).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_181065)(futureHEX3Aobjecttype180688* future_181071, Exception* error_181074) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_181077(future_181071);
	nimln(201, "asyncdispatch.nim");
	(*future_181071).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_181071).Sup.Error), error_181074);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_181074);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_181071).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_181071).Sup.Errorstacktrace), getstacktrace_16003(error_181074));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_181071).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_181071).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_181071).Sup.Cb.ClEnv? (*future_181071).Sup.Cb.ClPrc((*future_181071).Sup.Cb.ClEnv):((TMP541)((*future_181071).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_181647)(futureHEX3Aobjecttype179452* future_181653) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\012", (((NimStringDesc*) &TMP410))->data, ((*future_181653).Sup.Fromproc)->data, (((NimStringDesc*) &TMP411))->data);
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(237, "asyncdispatch.nim");
		LOC3 = 0;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((*future_181653).Sup.Errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((((*future_181653).Sup.Errorstacktrace) && ((*future_181653).Sup.Errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		nimln(238, "asyncdispatch.nim");
		printf("%s\012", ((*future_181653).Sup.Errorstacktrace)->data);
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		nimln(240, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP412))->data);
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	nimln(241, "asyncdispatch.nim");
	printf("%s\012", (((NimStringDesc*) &TMP413))->data);
	popFrame();
}

N_NIMCALL(void, read_181619)(futureHEX3Aobjecttype179452* future_181625, TY179445* Result) {
	nimfr("read", "asyncdispatch.nim")
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future_181625).Sup.Finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			nimln(249, "asyncdispatch.nim");
			nimln(249, "asyncdispatch.nim");
			if (!!(((*future_181625).Sup.Error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_181647(future_181625);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future_181625).Sup.Error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		nimln(253, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future_181625).Value.Field0));
		unsureAsgnRef((void**) (&(*Result).Field1), (*future_181625).Value.Field1);
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_182002;
		NimStringDesc* LOC10;
		e_182002 = 0;
		nimln(2149, "system.nim");
		e_182002 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_182002).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_182002).Sup.message; (*e_182002).Sup.message = copyStringRC1(((NimStringDesc*) &TMP414));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_182002, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
}

N_NIMCALL(void, complete_182025)(futureHEX3Aobjecttype180688* future_182031, asyncsocketdesc175202* val_182034) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_181077(future_182031);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_182031).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*future_182031).Value), val_182034);
	nimln(184, "asyncdispatch.nim");
	(*future_182031).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_182031).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_182031).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future_182031).Sup.Cb.ClEnv? (*future_182031).Sup.Cb.ClPrc((*future_182031).Sup.Cb.ClEnv):((TMP542)((*future_182031).Sup.Cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP545)(void* p, NI op) {
	TY182265* a;
	a = (TY182265*)p;
	nimGCvisit((void*)(*a).Cb182256.ClEnv, op);
	nimGCvisit((void*)(*a).Future182244, op);
}

N_CLOSURE(void, HEX3Aanonymous_182260)(void* ClEnv) {
	TY182265* HEX3Aenvp_182271;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_182271 = (TY182265*) ClEnv;
	nimln(231, "asyncdispatch.nim");
	(*HEX3Aenvp_182271).Cb182256.ClEnv? (*HEX3Aenvp_182271).Cb182256.ClPrc((*HEX3Aenvp_182271).Future182244, (*HEX3Aenvp_182271).Cb182256.ClEnv):((TMP546)((*HEX3Aenvp_182271).Cb182256.ClPrc))((*HEX3Aenvp_182271).Future182244);
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_182238)(futureHEX3Aobjecttype179452* future_182244, TY182257 cb_182256) {
	TY182265* HEX3Aenv_182275;
	futurebaseHEX3Aobjecttype160014* LOC1;
	TY160015 LOC2;
	nimfr("callback=", "asyncdispatch.nim")
	HEX3Aenv_182275 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_182275 = (TY182265*) newObj((&NTI182276), sizeof(TY182265));
	nimln(228, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_182275).Cb182256.ClEnv), cb_182256.ClEnv);
	(*HEX3Aenv_182275).Cb182256.ClPrc = cb_182256.ClPrc;
	nimln(228, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_182275).Future182244), future_182244);
	nimln(231, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_182275).Future182244->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_182260; LOC2.ClEnv = HEX3Aenv_182275;
	callbackHEX3D_160849(LOC1, LOC2);
	popFrame();
}
N_NIMCALL(void, TMP638)(void* p, NI op) {
	TY185896* a;
	a = (TY185896*)p;
	nimGCvisit((void*)(*a).Future185881, op);
}

N_CLOSURE(void, HEX3Aanonymous_185883)(void* ClEnv) {
	TY185896* HEX3Aenvp_185902;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_185902 = (TY185896*) ClEnv;
	nimln(284, "asyncdispatch.nim");
	{
		futurebaseHEX3Aobjecttype160014* LOC3;
		NIM_BOOL LOC4;
		nimln(284, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = &(*HEX3Aenvp_185902).Future185881->Sup;
		LOC4 = 0;
		LOC4 = failed_160931(LOC3);
		if (!LOC4) goto LA5;
		nimln(285, "asyncdispatch.nim");
		echooriginalstacktrace_175652((*HEX3Aenvp_185902).Future185881);
		nimln(286, "asyncdispatch.nim");
		raiseException((Exception*)(*(*HEX3Aenvp_185902).Future185881).Sup.Error, "Exception");
	}
	LA5: ;
	popFrame();
}

N_NIMCALL(void, asynccheck_185875)(futureHEX3Aobjecttype160094* future_185881) {
	TY185896* HEX3Aenv_185905;
	futurebaseHEX3Aobjecttype160014* LOC1;
	TY160015 LOC2;
	nimfr("asyncCheck", "asyncdispatch.nim")
	HEX3Aenv_185905 = 0;
	nimln(172, "system.nim");
	HEX3Aenv_185905 = (TY185896*) newObj((&NTI185906), sizeof(TY185896));
	nimln(278, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_185905).Future185881), future_185881);
	nimln(282, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_185905).Future185881->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_185883; LOC2.ClEnv = HEX3Aenv_185905;
	callbackHEX3D_160849(LOC1, LOC2);
	popFrame();
}
N_NIMCALL(void, TMP1881)(void* p, NI op) {
	futureHEX3Aobjecttype222048* a;
	a = (futureHEX3Aobjecttype222048*)p;
	nimGCvisit((void*)(*a).Sup.Cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.Error, op);
	nimGCvisit((void*)(*a).Sup.Errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.Stacktrace, op);
	nimGCvisit((void*)(*a).Sup.Fromproc, op);
}

N_NIMCALL(futureHEX3Aobjecttype222048*, newfuture_222132)(NimStringDesc* fromproc_222136) {
	futureHEX3Aobjecttype222048* result;
	NimStringDesc* LOC1;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(157, "asyncdispatch.nim");
	result = (futureHEX3Aobjecttype222048*) newObj((&NTI222047), sizeof(futureHEX3Aobjecttype222048));
	(*result).Sup.Sup.m_type = (&NTI222048);
	nimln(158, "asyncdispatch.nim");
	(*result).Sup.Finished = NIM_FALSE;
	nimln(160, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.Stacktrace), getstacktrace_16001());
	nimln(161, "asyncdispatch.nim");
	(*result).Sup.Id = currentid_160041;
	nimln(162, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.Fromproc; (*result).Sup.Fromproc = copyStringRC1(fromproc_222136);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(163, "asyncdispatch.nim");
	currentid_160041 = addInt(currentid_160041, 1);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_222268)(futureHEX3Aobjecttype222048* future_222274) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(167, "asyncdispatch.nim");
	{
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!(*future_222274).Sup.Finished) goto LA3;
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		LOC5 = 0;
		LOC5 = nimIntToStr((*future_222274).Sup.Id);
		nimln(168, "asyncdispatch.nim");
		nimln(168, "asyncdispatch.nim");
		printf("%s%s%s%s\012", (((NimStringDesc*) &TMP321))->data, (LOC5)->data, (((NimStringDesc*) &TMP322))->data, ((*future_222274).Sup.Fromproc)->data);
		nimln(169, "asyncdispatch.nim");
		nimln(169, "asyncdispatch.nim");
		printf("%s\012", ((*future_222274).Sup.Stacktrace)->data);
		nimln(170, "asyncdispatch.nim");
		nimln(170, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP323))->data);
		nimln(173, "asyncdispatch.nim");
		nimln(173, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP324))->data);
		nimln(174, "asyncdispatch.nim");
		nimln(174, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP325))->data);
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		nimln(175, "asyncdispatch.nim");
		LOC6 = 0;
		LOC6 = getstacktrace_16001();
		printf("%s\012", (LOC6)->data);
		nimln(176, "asyncdispatch.nim");
		{
			if (!NIM_TRUE) goto LA9;
			nimln(176, "asyncdispatch.nim");
			failedassertimpl_85425(((NimStringDesc*) &TMP326));
		}
		LA9: ;
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_222256)(futureHEX3Aobjecttype222048* future_222262, NIM_BOOL val_222265) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(181, "asyncdispatch.nim");
	checkfinished_222268(future_222262);
	nimln(182, "asyncdispatch.nim");
	{
		nimln(182, "asyncdispatch.nim");
		nimln(182, "asyncdispatch.nim");
		if (!!(((*future_222262).Sup.Error == NIM_NIL))) goto LA3;
		nimln(182, "asyncdispatch.nim");
		failedassertimpl_85425(((NimStringDesc*) &TMP368));
	}
	LA3: ;
	nimln(183, "asyncdispatch.nim");
	(*future_222262).Value = val_222265;
	nimln(184, "asyncdispatch.nim");
	(*future_222262).Sup.Finished = NIM_TRUE;
	nimln(185, "asyncdispatch.nim");
	{
		nimln(185, "asyncdispatch.nim");
		nimln(185, "asyncdispatch.nim");
		if (!!(((*future_222262).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_222262).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA7;
		nimln(186, "asyncdispatch.nim");
		(*future_222262).Sup.Cb.ClEnv? (*future_222262).Sup.Cb.ClPrc((*future_222262).Sup.Cb.ClEnv):((TMP1882)((*future_222262).Sup.Cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, fail_223203)(futureHEX3Aobjecttype222048* future_223209, Exception* error_223212) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(200, "asyncdispatch.nim");
	checkfinished_222268(future_223209);
	nimln(201, "asyncdispatch.nim");
	(*future_223209).Sup.Finished = NIM_TRUE;
	nimln(202, "asyncdispatch.nim");
	asgnRef((void**) (&(*future_223209).Sup.Error), error_223212);
	nimln(203, "asyncdispatch.nim");
	nimln(204, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		nimln(204, "asyncdispatch.nim");
		nimln(204, "asyncdispatch.nim");
		LOC3 = 0;
		LOC3 = getstacktrace_16003(error_223212);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_223209).Sup.Errorstacktrace), getstacktrace_16001());
	}
	goto LA1;
	LA4: ;
	{
		nimln(204, "asyncdispatch.nim");
		asgnRefNoCycle((void**) (&(*future_223209).Sup.Errorstacktrace), getstacktrace_16003(error_223212));
	}
	LA1: ;
	nimln(205, "asyncdispatch.nim");
	{
		nimln(205, "asyncdispatch.nim");
		nimln(205, "asyncdispatch.nim");
		if (!!(((*future_223209).Sup.Cb.ClPrc == TMP328.ClPrc && (*future_223209).Sup.Cb.ClEnv == TMP328.ClEnv))) goto LA9;
		nimln(206, "asyncdispatch.nim");
		(*future_223209).Sup.Cb.ClEnv? (*future_223209).Sup.Cb.ClPrc((*future_223209).Sup.Cb.ClEnv):((TMP1883)((*future_223209).Sup.Cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, echooriginalstacktrace_223322)(futureHEX3Aobjecttype222048* future_223328) {
	nimfr("echoOriginalStackTrace", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	nimln(236, "asyncdispatch.nim");
	printf("%s%s%s\012", (((NimStringDesc*) &TMP410))->data, ((*future_223328).Sup.Fromproc)->data, (((NimStringDesc*) &TMP411))->data);
	nimln(237, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		nimln(237, "asyncdispatch.nim");
		LOC3 = 0;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((*future_223328).Sup.Errorstacktrace == 0);
		if (!(LOC3)) goto LA4;
		nimln(237, "asyncdispatch.nim");
		nimln(237, "asyncdispatch.nim");
		LOC3 = !((((*future_223328).Sup.Errorstacktrace) && ((*future_223328).Sup.Errorstacktrace)->Sup.len == 0));
		LA4: ;
		if (!LOC3) goto LA5;
		nimln(238, "asyncdispatch.nim");
		nimln(238, "asyncdispatch.nim");
		printf("%s\012", ((*future_223328).Sup.Errorstacktrace)->data);
	}
	goto LA1;
	LA5: ;
	{
		nimln(240, "asyncdispatch.nim");
		nimln(240, "asyncdispatch.nim");
		printf("%s\012", (((NimStringDesc*) &TMP412))->data);
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	nimln(241, "asyncdispatch.nim");
	printf("%s\012", (((NimStringDesc*) &TMP413))->data);
	popFrame();
}

N_NIMCALL(NIM_BOOL, read_223294)(futureHEX3Aobjecttype222048* future_223300) {
	NIM_BOOL result;
	nimfr("read", "asyncdispatch.nim")
	result = 0;
	nimln(248, "asyncdispatch.nim");
	{
		if (!(*future_223300).Sup.Finished) goto LA3;
		nimln(249, "asyncdispatch.nim");
		{
			nimln(249, "asyncdispatch.nim");
			nimln(249, "asyncdispatch.nim");
			if (!!(((*future_223300).Sup.Error == NIM_NIL))) goto LA7;
			nimln(250, "asyncdispatch.nim");
			echooriginalstacktrace_223322(future_223300);
			nimln(251, "asyncdispatch.nim");
			raiseException((Exception*)(*future_223300).Sup.Error, "Exception");
		}
		LA7: ;
		nimln(253, "asyncdispatch.nim");
		nimln(253, "asyncdispatch.nim");
		result = (*future_223300).Value;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		valueerror3249* e_223602;
		NimStringDesc* LOC10;
		e_223602 = 0;
		nimln(2149, "system.nim");
		e_223602 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
		(*e_223602).Sup.Sup.m_type = (&NTI3249);
		nimln(2150, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_223602).Sup.message; (*e_223602).Sup.message = copyStringRC1(((NimStringDesc*) &TMP414));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(256, "asyncdispatch.nim");
		raiseException((Exception*)e_223602, "ValueError");
	}
	LA1: ;
	BeforeRet: ;
	popFrame();
	return result;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_asyncdispatchInit)(void) {
	nimfr("asyncdispatch", "asyncdispatch.nim")
	nimln(151, "asyncdispatch.nim");
	currentid_160041 = 0;
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, stdlib_asyncdispatchDatInit)(void) {
static TNimNode* TMP331[2];
static TNimNode* TMP332[7];
static TNimNode* TMP333[2];
static TNimNode* TMP371[2];
static TNimNode* TMP377[3];
static TNimNode* TMP378[2];
static TNimNode* TMP385[2];
static TNimNode* TMP388[2];
static TNimNode* TMP390[2];
static TNimNode* TMP392[5];
static TNimNode* TMP399[5];
static TNimNode* TMP403[3];
static TNimNode* TMP416[3];
static TNimNode* TMP417[2];
static TNimNode* TMP420[2];
static TNimNode* TMP424[8];
static TNimNode* TMP425[2];
static TNimNode* TMP543[3];
static TNimNode* TMP544[2];
static TNimNode* TMP637[2];
static TNimNode TMP145[93];
NTI161017.size = sizeof(TY161017);
NTI161017.kind = 18;
NTI161017.base = 0;
TMP331[0] = &TMP145[1];
TMP145[1].kind = 1;
TMP145[1].offset = offsetof(TY161017, Field0);
TMP145[1].typ = (&NTI128);
TMP145[1].name = "Field0";
TMP331[1] = &TMP145[2];
NTI160014.size = sizeof(futurebaseHEX3Aobjecttype160014);
NTI160014.kind = 17;
NTI160014.base = (&NTI3211);
TMP332[0] = &TMP145[4];
NTI160015.size = sizeof(TY161264);
NTI160015.kind = 18;
NTI160015.base = 0;
NTI160015.flags = 2;
TMP333[0] = &TMP145[6];
TMP145[6].kind = 1;
TMP145[6].offset = offsetof(TY161264, Field0);
TMP145[6].typ = (&NTI153);
TMP145[6].name = "Field0";
TMP333[1] = &TMP145[7];
NTI161267.size = sizeof(TY161267);
NTI161267.kind = 18;
NTI161267.base = 0;
NTI161267.flags = 3;
TMP145[8].len = 0; TMP145[8].kind = 2;
NTI161267.node = &TMP145[8];
NTI161266.size = sizeof(TY161267*);
NTI161266.kind = 22;
NTI161266.base = (&NTI161267);
NTI161266.flags = 2;
NTI161266.marker = TMP334;
TMP145[7].kind = 1;
TMP145[7].offset = offsetof(TY161264, Field1);
TMP145[7].typ = (&NTI161266);
TMP145[7].name = "Field1";
TMP145[5].len = 2; TMP145[5].kind = 2; TMP145[5].sons = &TMP333[0];
NTI160015.node = &TMP145[5];
TMP145[4].kind = 1;
TMP145[4].offset = offsetof(futurebaseHEX3Aobjecttype160014, Cb);
TMP145[4].typ = (&NTI160015);
TMP145[4].name = "cb";
TMP332[1] = &TMP145[9];
TMP145[9].kind = 1;
TMP145[9].offset = offsetof(futurebaseHEX3Aobjecttype160014, Finished);
TMP145[9].typ = (&NTI138);
TMP145[9].name = "finished";
TMP332[2] = &TMP145[10];
TMP145[10].kind = 1;
TMP145[10].offset = offsetof(futurebaseHEX3Aobjecttype160014, Error);
TMP145[10].typ = (&NTI8222);
TMP145[10].name = "error";
TMP332[3] = &TMP145[11];
TMP145[11].kind = 1;
TMP145[11].offset = offsetof(futurebaseHEX3Aobjecttype160014, Errorstacktrace);
TMP145[11].typ = (&NTI149);
TMP145[11].name = "errorStackTrace";
TMP332[4] = &TMP145[12];
TMP145[12].kind = 1;
TMP145[12].offset = offsetof(futurebaseHEX3Aobjecttype160014, Stacktrace);
TMP145[12].typ = (&NTI149);
TMP145[12].name = "stackTrace";
TMP332[5] = &TMP145[13];
TMP145[13].kind = 1;
TMP145[13].offset = offsetof(futurebaseHEX3Aobjecttype160014, Id);
TMP145[13].typ = (&NTI108);
TMP145[13].name = "id";
TMP332[6] = &TMP145[14];
TMP145[14].kind = 1;
TMP145[14].offset = offsetof(futurebaseHEX3Aobjecttype160014, Fromproc);
TMP145[14].typ = (&NTI149);
TMP145[14].name = "fromProc";
TMP145[3].len = 7; TMP145[3].kind = 2; TMP145[3].sons = &TMP332[0];
NTI160014.node = &TMP145[3];
NTI160094.size = sizeof(futureHEX3Aobjecttype160094);
NTI160094.kind = 17;
NTI160094.base = (&NTI160014);
TMP145[15].len = 0; TMP145[15].kind = 2;
NTI160094.node = &TMP145[15];
NTI160093.size = sizeof(futureHEX3Aobjecttype160094*);
NTI160093.kind = 22;
NTI160093.base = (&NTI160094);
NTI160093.marker = TMP335;
TMP145[2].kind = 1;
TMP145[2].offset = offsetof(TY161017, Field1);
TMP145[2].typ = (&NTI160093);
TMP145[2].name = "Field1";
TMP145[0].len = 2; TMP145[0].kind = 2; TMP145[0].sons = &TMP331[0];
NTI161017.node = &TMP145[0];
NTI161016.size = sizeof(TY161016*);
NTI161016.kind = 24;
NTI161016.base = (&NTI161017);
NTI161016.marker = TMP336;
NTI165748.size = sizeof(futureHEX3Aobjecttype165748);
NTI165748.kind = 17;
NTI165748.base = (&NTI160014);
TMP145[16].kind = 1;
TMP145[16].offset = offsetof(futureHEX3Aobjecttype165748, Value);
TMP145[16].typ = (&NTI149);
TMP145[16].name = "value";
NTI165748.node = &TMP145[16];
NTI165747.size = sizeof(futureHEX3Aobjecttype165748*);
NTI165747.kind = 22;
NTI165747.base = (&NTI165748);
NTI165747.marker = TMP366;
NTI166851.size = sizeof(futureHEX3Aobjecttype166851);
NTI166851.kind = 17;
NTI166851.base = (&NTI160014);
NTI166844.size = sizeof(TY166844);
NTI166844.kind = 18;
NTI166844.base = 0;
NTI166844.flags = 2;
TMP371[0] = &TMP145[19];
TMP145[19].kind = 1;
TMP145[19].offset = offsetof(TY166844, Field0);
TMP145[19].typ = (&NTI149);
TMP145[19].name = "Field0";
TMP371[1] = &TMP145[20];
TMP145[20].kind = 1;
TMP145[20].offset = offsetof(TY166844, Field1);
TMP145[20].typ = (&NTI5611);
TMP145[20].name = "Field1";
TMP145[18].len = 2; TMP145[18].kind = 2; TMP145[18].sons = &TMP371[0];
NTI166844.node = &TMP145[18];
TMP145[17].kind = 1;
TMP145[17].offset = offsetof(futureHEX3Aobjecttype166851, Value);
TMP145[17].typ = (&NTI166844);
TMP145[17].name = "value";
NTI166851.node = &TMP145[17];
NTI166850.size = sizeof(futureHEX3Aobjecttype166851*);
NTI166850.kind = 22;
NTI166850.base = (&NTI166851);
NTI166850.marker = TMP372;
NTI161015.size = sizeof(pdispatcherbaseHEX3Aobjecttype161015);
NTI161015.kind = 17;
NTI161015.base = (&NTI3211);
TMP145[21].kind = 1;
TMP145[21].offset = offsetof(pdispatcherbaseHEX3Aobjecttype161015, Timers);
TMP145[21].typ = (&NTI161016);
TMP145[21].name = "timers";
NTI161015.node = &TMP145[21];
NTI164217.size = sizeof(pdispatcherHEX3Aobjecttype164217);
NTI164217.kind = 17;
NTI164217.base = (&NTI161015);
TMP145[22].kind = 1;
TMP145[22].offset = offsetof(pdispatcherHEX3Aobjecttype164217, Selector);
TMP145[22].typ = (&NTI161439);
TMP145[22].name = "selector";
NTI164217.node = &TMP145[22];
NTI164208.size = sizeof(pdispatcherHEX3Aobjecttype164217*);
NTI164208.kind = 22;
NTI164208.base = (&NTI164217);
NTI164208.marker = TMP375;
NTI164211.size = sizeof(pdataHEX3Aobjecttype164211);
NTI164211.kind = 17;
NTI164211.base = (&NTI3211);
TMP377[0] = &TMP145[24];
TMP145[24].kind = 1;
TMP145[24].offset = offsetof(pdataHEX3Aobjecttype164211, Fd);
TMP145[24].typ = (&NTI5611);
TMP145[24].name = "fd";
TMP377[1] = &TMP145[25];
NTI164204.size = sizeof(TY161264);
NTI164204.kind = 18;
NTI164204.base = 0;
NTI164204.flags = 2;
TMP378[0] = &TMP145[27];
TMP145[27].kind = 1;
TMP145[27].offset = offsetof(TY161264, Field0);
TMP145[27].typ = (&NTI153);
TMP145[27].name = "Field0";
TMP378[1] = &TMP145[28];
TMP145[28].kind = 1;
TMP145[28].offset = offsetof(TY161264, Field1);
TMP145[28].typ = (&NTI161266);
TMP145[28].name = "Field1";
TMP145[26].len = 2; TMP145[26].kind = 2; TMP145[26].sons = &TMP378[0];
NTI164204.node = &TMP145[26];
NTI164213.size = sizeof(TY164213*);
NTI164213.kind = 24;
NTI164213.base = (&NTI164204);
NTI164213.marker = TMP379;
TMP145[25].kind = 1;
TMP145[25].offset = offsetof(pdataHEX3Aobjecttype164211, Readcbs);
TMP145[25].typ = (&NTI164213);
TMP145[25].name = "readCBs";
TMP377[2] = &TMP145[29];
TMP145[29].kind = 1;
TMP145[29].offset = offsetof(pdataHEX3Aobjecttype164211, Writecbs);
TMP145[29].typ = (&NTI164213);
TMP145[29].name = "writeCBs";
TMP145[23].len = 3; TMP145[23].kind = 2; TMP145[23].sons = &TMP377[0];
NTI164211.node = &TMP145[23];
NTI164206.size = sizeof(pdataHEX3Aobjecttype164211*);
NTI164206.kind = 22;
NTI164206.base = (&NTI164211);
NTI164206.marker = TMP380;
NTI165709.size = sizeof(TY165709);
NTI165709.kind = 18;
NTI165709.base = 0;
TMP385[0] = &TMP145[31];
NTI165711.size = sizeof(NI);
NTI165711.kind = 20;
NTI165711.base = (&NTI108);
NTI165711.flags = 3;
TMP145[31].kind = 1;
TMP145[31].offset = offsetof(TY165709, HEX3Astate);
TMP145[31].typ = (&NTI165711);
TMP145[31].name = ":state";
TMP385[1] = &TMP145[32];
TMP145[32].kind = 1;
TMP145[32].offset = offsetof(TY165709, Retfuture165616);
TMP145[32].typ = (&NTI160093);
TMP145[32].name = "retFuture165616";
TMP145[30].len = 2; TMP145[30].kind = 2; TMP145[30].sons = &TMP385[0];
NTI165709.node = &TMP145[30];
NTI165735.size = sizeof(TY165709*);
NTI165735.kind = 22;
NTI165735.base = (&NTI165709);
NTI165735.marker = TMP386;
NTI165712.size = sizeof(TY165712);
NTI165712.kind = 18;
NTI165712.base = 0;
TMP388[0] = &TMP145[34];
TMP145[34].kind = 1;
TMP145[34].offset = offsetof(TY165712, HEX3Astate);
TMP145[34].typ = (&NTI165711);
TMP145[34].name = ":state";
TMP388[1] = &TMP145[35];
TMP145[35].kind = 1;
TMP145[35].offset = offsetof(TY165712, HEX3Aup165726);
TMP145[35].typ = (&NTI165735);
TMP145[35].name = ":up165726";
TMP145[33].len = 2; TMP145[33].kind = 2; TMP145[33].sons = &TMP388[0];
NTI165712.node = &TMP145[33];
NTI165733.size = sizeof(TY165712*);
NTI165733.kind = 22;
NTI165733.base = (&NTI165712);
NTI165733.marker = TMP389;
NTI165715.size = sizeof(TY165715);
NTI165715.kind = 18;
NTI165715.base = 0;
TMP390[0] = &TMP145[37];
TMP145[37].kind = 1;
TMP145[37].offset = offsetof(TY165715, HEX3Astate);
TMP145[37].typ = (&NTI165711);
TMP145[37].name = ":state";
TMP390[1] = &TMP145[38];
TMP145[38].kind = 1;
TMP145[38].offset = offsetof(TY165715, HEX3Aup165723);
TMP145[38].typ = (&NTI165733);
TMP145[38].name = ":up165723";
TMP145[36].len = 2; TMP145[36].kind = 2; TMP145[36].sons = &TMP390[0];
NTI165715.node = &TMP145[36];
NTI165731.size = sizeof(TY165715*);
NTI165731.kind = 22;
NTI165731.base = (&NTI165715);
NTI165731.marker = TMP391;
NTI166712.size = sizeof(TY166712);
NTI166712.kind = 18;
NTI166712.base = 0;
TMP392[0] = &TMP145[40];
TMP145[40].kind = 1;
TMP145[40].offset = offsetof(TY166712, HEX3Astate);
TMP145[40].typ = (&NTI165711);
TMP145[40].name = ":state";
TMP392[1] = &TMP145[41];
TMP145[41].kind = 1;
TMP145[41].offset = offsetof(TY166712, Readbuffer165817);
TMP145[41].typ = (&NTI149);
TMP145[41].name = "readBuffer165817";
TMP392[2] = &TMP145[42];
TMP145[42].kind = 1;
TMP145[42].offset = offsetof(TY166712, Size165739);
TMP145[42].typ = (&NTI108);
TMP145[42].name = "size165739";
TMP392[3] = &TMP145[43];
NTI165740.size = sizeof(NU8);
NTI165740.kind = 19;
NTI165740.base = (&NTI152417);
NTI165740.flags = 3;
TMP145[44].len = 0; TMP145[44].kind = 0;
NTI165740.node = &TMP145[44];
TMP145[43].kind = 1;
TMP145[43].offset = offsetof(TY166712, Flags165742);
TMP145[43].typ = (&NTI165740);
TMP145[43].name = "flags165742";
TMP392[4] = &TMP145[45];
TMP145[45].kind = 1;
TMP145[45].offset = offsetof(TY166712, Retfuture165816);
TMP145[45].typ = (&NTI165747);
TMP145[45].name = "retFuture165816";
TMP145[39].len = 5; TMP145[39].kind = 2; TMP145[39].sons = &TMP392[0];
NTI166712.node = &TMP145[39];
NTI166725.size = sizeof(TY166712*);
NTI166725.kind = 22;
NTI166725.base = (&NTI166712);
NTI166725.marker = TMP396;
NTI166823.size = sizeof(TY166823);
NTI166823.kind = 18;
NTI166823.base = 0;
TMP399[0] = &TMP145[47];
TMP145[47].kind = 1;
TMP145[47].offset = offsetof(TY166823, HEX3Astate);
TMP145[47].typ = (&NTI165711);
TMP145[47].name = ":state";
TMP399[1] = &TMP145[48];
TMP145[48].kind = 1;
TMP145[48].offset = offsetof(TY166823, Data166729);
TMP145[48].typ = (&NTI149);
TMP145[48].name = "data166729";
TMP399[2] = &TMP145[49];
TMP145[49].kind = 1;
TMP145[49].offset = offsetof(TY166823, Written166745);
TMP145[49].typ = (&NTI108);
TMP145[49].name = "written166745";
TMP399[3] = &TMP145[50];
TMP145[50].kind = 1;
TMP145[50].offset = offsetof(TY166823, Flags166732);
TMP145[50].typ = (&NTI165740);
TMP145[50].name = "flags166732";
TMP399[4] = &TMP145[51];
TMP145[51].kind = 1;
TMP145[51].offset = offsetof(TY166823, Retfuture166744);
TMP145[51].typ = (&NTI160093);
TMP145[51].name = "retFuture166744";
TMP145[46].len = 5; TMP145[46].kind = 2; TMP145[46].sons = &TMP399[0];
NTI166823.node = &TMP145[46];
NTI166836.size = sizeof(TY166823*);
NTI166836.kind = 22;
NTI166836.base = (&NTI166823);
NTI166836.marker = TMP400;
NTI168039.size = sizeof(TY168039);
NTI168039.kind = 18;
NTI168039.base = 0;
TMP403[0] = &TMP145[53];
TMP145[53].kind = 1;
TMP145[53].offset = offsetof(TY168039, HEX3Astate);
TMP145[53].typ = (&NTI165711);
TMP145[53].name = ":state";
TMP403[1] = &TMP145[54];
TMP145[54].kind = 1;
TMP145[54].offset = offsetof(TY168039, Flags166842);
TMP145[54].typ = (&NTI165740);
TMP145[54].name = "flags166842";
TMP403[2] = &TMP145[55];
TMP145[55].kind = 1;
TMP145[55].offset = offsetof(TY168039, Retfuture167016);
TMP145[55].typ = (&NTI166850);
TMP145[55].name = "retFuture167016";
TMP145[52].len = 3; TMP145[52].kind = 2; TMP145[52].sons = &TMP403[0];
NTI168039.node = &TMP145[52];
NTI168050.size = sizeof(TY168039*);
NTI168050.kind = 22;
NTI168050.base = (&NTI168039);
NTI168050.marker = TMP404;
NTI168263.size = sizeof(futureHEX3Aobjecttype168263);
NTI168263.kind = 17;
NTI168263.base = (&NTI160014);
TMP145[56].kind = 1;
TMP145[56].offset = offsetof(futureHEX3Aobjecttype168263, Value);
TMP145[56].typ = (&NTI5611);
TMP145[56].name = "value";
NTI168263.node = &TMP145[56];
NTI168262.size = sizeof(futureHEX3Aobjecttype168263*);
NTI168262.kind = 22;
NTI168262.base = (&NTI168263);
NTI168262.marker = TMP408;
NTI169865.size = sizeof(TY169865);
NTI169865.kind = 18;
NTI169865.base = 0;
TMP416[0] = &TMP145[58];
TMP145[58].kind = 1;
TMP145[58].offset = offsetof(TY169865, HEX3Astate);
TMP145[58].typ = (&NTI165711);
TMP145[58].name = ":state";
TMP416[1] = &TMP145[59];
NTI169857.size = sizeof(TY161264);
NTI169857.kind = 18;
NTI169857.base = 0;
NTI169857.flags = 2;
TMP417[0] = &TMP145[61];
TMP145[61].kind = 1;
TMP145[61].offset = offsetof(TY161264, Field0);
TMP145[61].typ = (&NTI153);
TMP145[61].name = "Field0";
TMP417[1] = &TMP145[62];
TMP145[62].kind = 1;
TMP145[62].offset = offsetof(TY161264, Field1);
TMP145[62].typ = (&NTI161266);
TMP145[62].name = "Field1";
TMP145[60].len = 2; TMP145[60].kind = 2; TMP145[60].sons = &TMP417[0];
NTI169857.node = &TMP145[60];
TMP145[59].kind = 1;
TMP145[59].offset = offsetof(TY169865, Cb169856);
TMP145[59].typ = (&NTI169857);
TMP145[59].name = "cb169856";
TMP416[2] = &TMP145[63];
TMP145[63].kind = 1;
TMP145[63].offset = offsetof(TY169865, Future169844);
TMP145[63].typ = (&NTI166850);
TMP145[63].name = "future169844";
TMP145[57].len = 3; TMP145[57].kind = 2; TMP145[57].sons = &TMP416[0];
NTI169865.node = &TMP145[57];
NTI169876.size = sizeof(TY169865*);
NTI169876.kind = 22;
NTI169876.base = (&NTI169865);
NTI169876.marker = TMP418;
NTI169878.size = sizeof(TY169878);
NTI169878.kind = 18;
NTI169878.base = 0;
TMP420[0] = &TMP145[65];
TMP145[65].kind = 1;
TMP145[65].offset = offsetof(TY169878, HEX3Astate);
TMP145[65].typ = (&NTI165711);
TMP145[65].name = ":state";
TMP420[1] = &TMP145[66];
TMP145[66].kind = 1;
TMP145[66].offset = offsetof(TY169878, Retfut168416);
TMP145[66].typ = (&NTI168262);
TMP145[66].name = "retFut168416";
TMP145[64].len = 2; TMP145[64].kind = 2; TMP145[64].sons = &TMP420[0];
NTI169878.node = &TMP145[64];
NTI169888.size = sizeof(TY169878*);
NTI169888.kind = 22;
NTI169888.base = (&NTI169878);
NTI169888.marker = TMP421;
NTI171414.size = sizeof(TY171414);
NTI171414.kind = 18;
NTI171414.base = 0;
TMP424[0] = &TMP145[68];
NTI171416.size = sizeof(NI);
NTI171416.kind = 20;
NTI171416.base = (&NTI108);
NTI171416.flags = 3;
TMP145[68].kind = 1;
TMP145[68].offset = offsetof(TY171414, HEX3Astate);
TMP145[68].typ = (&NTI171416);
TMP145[68].name = ":state";
TMP424[1] = &TMP145[69];
TMP145[69].kind = 1;
TMP145[69].offset = offsetof(TY171414, Socket170654);
TMP145[69].typ = (&NTI5611);
TMP145[69].name = "socket170654";
TMP424[2] = &TMP145[70];
TMP145[70].kind = 1;
TMP145[70].offset = offsetof(TY171414, Retfuture170648);
TMP145[70].typ = (&NTI165747);
TMP145[70].name = "retFuture170648";
TMP424[3] = &TMP145[71];
NTI170666.size = sizeof(TY161264);
NTI170666.kind = 18;
NTI170666.base = 0;
NTI170666.flags = 2;
TMP425[0] = &TMP145[73];
TMP145[73].kind = 1;
TMP145[73].offset = offsetof(TY161264, Field0);
TMP145[73].typ = (&NTI153);
TMP145[73].name = "Field0";
TMP425[1] = &TMP145[74];
TMP145[74].kind = 1;
TMP145[74].offset = offsetof(TY161264, Field1);
TMP145[74].typ = (&NTI161266);
TMP145[74].name = "Field1";
TMP145[72].len = 2; TMP145[72].kind = 2; TMP145[72].sons = &TMP425[0];
NTI170666.node = &TMP145[72];
TMP145[71].kind = 1;
TMP145[71].offset = offsetof(TY171414, Nameitervar171240);
TMP145[71].typ = (&NTI170666);
TMP145[71].name = "nameIterVar171240";
TMP424[4] = &TMP145[75];
TMP145[75].kind = 1;
TMP145[75].offset = offsetof(TY171414, Result170668);
TMP145[75].typ = (&NTI149);
TMP145[75].name = "result170668";
TMP424[5] = &TMP145[76];
TMP145[76].kind = 1;
TMP145[76].offset = offsetof(TY171414, C170674);
TMP145[76].typ = (&NTI149);
TMP145[76].name = "c170674";
TMP424[6] = &TMP145[77];
TMP145[77].kind = 1;
TMP145[77].offset = offsetof(TY171414, Future170650);
TMP145[77].typ = (&NTI165747);
TMP145[77].name = "future170650";
TMP424[7] = &TMP145[78];
TMP145[78].kind = 1;
TMP145[78].offset = offsetof(TY171414, Future170651);
TMP145[78].typ = (&NTI165747);
TMP145[78].name = "future170651";
TMP145[67].len = 8; TMP145[67].kind = 2; TMP145[67].sons = &TMP424[0];
NTI171414.node = &TMP145[67];
NTI171431.size = sizeof(TY171414*);
NTI171431.kind = 22;
NTI171431.base = (&NTI171414);
NTI171431.marker = TMP426;
NTI176454.size = sizeof(futureHEX3Aobjecttype176454);
NTI176454.kind = 17;
NTI176454.base = (&NTI160014);
TMP145[79].kind = 1;
TMP145[79].offset = offsetof(futureHEX3Aobjecttype176454, Value);
TMP145[79].typ = (&NTI108);
TMP145[79].name = "value";
NTI176454.node = &TMP145[79];
NTI176453.size = sizeof(futureHEX3Aobjecttype176454*);
NTI176453.kind = 22;
NTI176453.base = (&NTI176454);
NTI176453.marker = TMP495;
NTI179452.size = sizeof(futureHEX3Aobjecttype179452);
NTI179452.kind = 17;
NTI179452.base = (&NTI160014);
TMP145[80].kind = 1;
TMP145[80].offset = offsetof(futureHEX3Aobjecttype179452, Value);
TMP145[80].typ = (&NTI179445);
TMP145[80].name = "value";
NTI179452.node = &TMP145[80];
NTI179451.size = sizeof(futureHEX3Aobjecttype179452*);
NTI179451.kind = 22;
NTI179451.base = (&NTI179452);
NTI179451.marker = TMP532;
NTI180688.size = sizeof(futureHEX3Aobjecttype180688);
NTI180688.kind = 17;
NTI180688.base = (&NTI160014);
TMP145[81].kind = 1;
TMP145[81].offset = offsetof(futureHEX3Aobjecttype180688, Value);
TMP145[81].typ = (&NTI175204);
TMP145[81].name = "value";
NTI180688.node = &TMP145[81];
NTI180687.size = sizeof(futureHEX3Aobjecttype180688*);
NTI180687.kind = 22;
NTI180687.base = (&NTI180688);
NTI180687.marker = TMP540;
NTI182265.size = sizeof(TY182265);
NTI182265.kind = 18;
NTI182265.base = 0;
TMP543[0] = &TMP145[83];
TMP145[83].kind = 1;
TMP145[83].offset = offsetof(TY182265, HEX3Astate);
TMP145[83].typ = (&NTI165711);
TMP145[83].name = ":state";
TMP543[1] = &TMP145[84];
NTI182257.size = sizeof(TY161264);
NTI182257.kind = 18;
NTI182257.base = 0;
NTI182257.flags = 2;
TMP544[0] = &TMP145[86];
TMP145[86].kind = 1;
TMP145[86].offset = offsetof(TY161264, Field0);
TMP145[86].typ = (&NTI153);
TMP145[86].name = "Field0";
TMP544[1] = &TMP145[87];
TMP145[87].kind = 1;
TMP145[87].offset = offsetof(TY161264, Field1);
TMP145[87].typ = (&NTI161266);
TMP145[87].name = "Field1";
TMP145[85].len = 2; TMP145[85].kind = 2; TMP145[85].sons = &TMP544[0];
NTI182257.node = &TMP145[85];
TMP145[84].kind = 1;
TMP145[84].offset = offsetof(TY182265, Cb182256);
TMP145[84].typ = (&NTI182257);
TMP145[84].name = "cb182256";
TMP543[2] = &TMP145[88];
TMP145[88].kind = 1;
TMP145[88].offset = offsetof(TY182265, Future182244);
TMP145[88].typ = (&NTI179451);
TMP145[88].name = "future182244";
TMP145[82].len = 3; TMP145[82].kind = 2; TMP145[82].sons = &TMP543[0];
NTI182265.node = &TMP145[82];
NTI182276.size = sizeof(TY182265*);
NTI182276.kind = 22;
NTI182276.base = (&NTI182265);
NTI182276.marker = TMP545;
NTI185896.size = sizeof(TY185896);
NTI185896.kind = 18;
NTI185896.base = 0;
TMP637[0] = &TMP145[90];
TMP145[90].kind = 1;
TMP145[90].offset = offsetof(TY185896, HEX3Astate);
TMP145[90].typ = (&NTI165711);
TMP145[90].name = ":state";
TMP637[1] = &TMP145[91];
TMP145[91].kind = 1;
TMP145[91].offset = offsetof(TY185896, Future185881);
TMP145[91].typ = (&NTI160093);
TMP145[91].name = "future185881";
TMP145[89].len = 2; TMP145[89].kind = 2; TMP145[89].sons = &TMP637[0];
NTI185896.node = &TMP145[89];
NTI185906.size = sizeof(TY185896*);
NTI185906.kind = 22;
NTI185906.base = (&NTI185896);
NTI185906.marker = TMP638;
NTI222048.size = sizeof(futureHEX3Aobjecttype222048);
NTI222048.kind = 17;
NTI222048.base = (&NTI160014);
TMP145[92].kind = 1;
TMP145[92].offset = offsetof(futureHEX3Aobjecttype222048, Value);
TMP145[92].typ = (&NTI138);
TMP145[92].name = "value";
NTI222048.node = &TMP145[92];
NTI222047.size = sizeof(futureHEX3Aobjecttype222048*);
NTI222047.kind = 22;
NTI222047.base = (&NTI222048);
NTI222047.marker = TMP1881;
}


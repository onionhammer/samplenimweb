/* Generated by Nim Compiler v0.10.2 */
/*   (c) 2014 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: MacOSX, amd64, clang */
/* Command for C compiler:
   clang -c  -w  -I/Users/erikoleary/lib/Nim/lib -o /Users/erikoleary/Documents/onion-nimrod/sampleweb/nimcache/jester_utils.o /Users/erikoleary/Documents/onion-nimrod/sampleweb/nimcache/jester_utils.c */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <string.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct stringtableobj173012 stringtableobj173012;
typedef struct valueerror3249 valueerror3249;
typedef struct Exception Exception;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tcell45335 tcell45335;
typedef struct tcellseq45351 tcellseq45351;
typedef struct tgcheap47416 tgcheap47416;
typedef struct tcellset45347 tcellset45347;
typedef struct tpagedesc45343 tpagedesc45343;
typedef struct tmemregion27610 tmemregion27610;
typedef struct tsmallchunk26840 tsmallchunk26840;
typedef struct tllchunk27604 tllchunk27604;
typedef struct tbigchunk26842 tbigchunk26842;
typedef struct tintset26817 tintset26817;
typedef struct ttrunk26813 ttrunk26813;
typedef struct tavlnode27608 tavlnode27608;
typedef struct tgcstat47414 tgcstat47414;
typedef struct table220013 table220013;
typedef struct keyvaluepairseq220016 keyvaluepairseq220016;
typedef struct keyvaluepair220019 keyvaluepair220019;
typedef struct TY220007 TY220007;
typedef struct TY109352 TY109352;
typedef struct keyvaluepairseq173010 keyvaluepairseq173010;
typedef struct tbasechunk26838 tbasechunk26838;
typedef struct tfreecell26830 tfreecell26830;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef N_NIMCALL_PTR(void, TY3089) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3094) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3089 marker;
TY3094 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  valueerror3249  {
  Exception Sup;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tcell45335  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq45351  {
NI Len;
NI Cap;
tcell45335** D;
};
struct  tcellset45347  {
NI Counter;
NI Max;
tpagedesc45343* Head;
tpagedesc45343** Data;
};
typedef tsmallchunk26840* TY27622[512];
typedef ttrunk26813* ttrunkbuckets26815[256];
struct  tintset26817  {
ttrunkbuckets26815 Data;
};
struct  tmemregion27610  {
NI Minlargeobj;
NI Maxlargeobj;
TY27622 Freesmallchunks;
tllchunk27604* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk26842* Freechunkslist;
tintset26817 Chunkstarts;
tavlnode27608* Root;
tavlnode27608* Deleted;
tavlnode27608* Last;
tavlnode27608* Freeavlnodes;
};
struct  tgcstat47414  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap47416  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq45351 Zct;
tcellseq45351 Decstack;
tcellset45347 Cycleroots;
tcellseq45351 Tempstack;
NI Recgclock;
tmemregion27610 Region;
tgcstat47414 Stat;
};
struct TY220007 {
stringtableobj173012* Field0;
NimStringDesc* Field1;
};
struct keyvaluepair220019 {
NU8 Field0;
NimStringDesc* Field1;
TY220007 Field2;
};
struct  table220013  {
keyvaluepairseq220016* Data;
NI Counter;
};
struct TY109352 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
typedef TY109352 TY185182[1];
typedef NU8 TY76268[32];
struct  stringtableobj173012  {
  TNimObject Sup;
NI Counter;
keyvaluepairseq173010* Data;
NU8 Mode;
};
typedef NI TY26820[8];
struct  tpagedesc45343  {
tpagedesc45343* Next;
NI Key;
TY26820 Bits;
};
struct  tbasechunk26838  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk26840  {
  tbasechunk26838 Sup;
tsmallchunk26840* Next;
tsmallchunk26840* Prev;
tfreecell26830* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk27604  {
NI Size;
NI Acc;
tllchunk27604* Next;
};
struct  tbigchunk26842  {
  tbasechunk26838 Sup;
tbigchunk26842* Next;
tbigchunk26842* Prev;
NI Align;
NF Data;
};
struct  ttrunk26813  {
ttrunk26813* Next;
NI Key;
TY26820 Bits;
};
typedef tavlnode27608* TY27614[2];
struct  tavlnode27608  {
TY27614 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct  tfreecell26830  {
tfreecell26830* Next;
NI Zerofield;
};
struct keyvaluepairseq220016 {
  TGenericSeq Sup;
  keyvaluepair220019 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq173010 {
  TGenericSeq Sup;
  TY109352 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, parseurlquery_220034)(NimStringDesc* query, stringtableobj173012** result);
static N_INLINE(NI, skip_92873)(NimStringDesc* s, NimStringDesc* token, NI start);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_NOINLINE(void, raiseIndexError)(void);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackoverflow_19001)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(NI, subInt)(NI a, NI b);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
static N_INLINE(NI, parseuntil_93107)(NimStringDesc* s, NimStringDesc** token, NIM_CHAR until, NI start);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI start_75228, NI last);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI first, NI last);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR x);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
static N_INLINE(tcell45335*, usrtocell_49046)(void* usr);
static N_INLINE(void, rtladdzct_50604)(tcell45335* c);
N_NOINLINE(void, addzct_49017)(tcellseq45351* s, tcell45335* c);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_NIMCALL(void, nstPut)(stringtableobj173012* t, NimStringDesc* key, NimStringDesc* val);
N_NIMCALL(NimStringDesc*, decodeurl_218207)(NimStringDesc* s);
N_NIMCALL(void, inittable_220158)(NI initialsize_220163, table220013* Result);
N_NIMCALL(void, HEX5BHEX5DHEX3D_220487)(table220013* t_220496, NimStringDesc* key_220500, TY220007 val_220502);
N_NIMCALL(NI, rawget_220505)(table220013 t_220512, NimStringDesc* key_220515);
N_NIMCALL(void, enlarge_220562)(table220013* t_220571);
N_NIMCALL(void, rawinsert_220632)(table220013* t_220641, keyvaluepairseq220016** data_220649, NimStringDesc* key_220653, TY220007 val_220655);
N_NIMCALL(void, parsemultipart_220149)(NimStringDesc* body, NimStringDesc* boundary, table220013* Result);
N_NOINLINE(void, chckNil)(void* p);
N_NIMCALL(void, genericReset)(void* dest, TNimType* mt);
static N_INLINE(NI, skipwhitespace_92830)(NimStringDesc* s, NI start);
N_NIMCALL(stringtableobj173012*, nstnewStringTableWithTableConstr)(TY109352* keyvaluepairs, NI keyvaluepairsLen0, NU8 mode);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(NI, parseuntil_93058)(NimStringDesc* s, NimStringDesc** token, TY76268 until, NI start);
N_NIMCALL(NimStringDesc*, nsuToLowerStr)(NimStringDesc* s);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NimStringDesc*, capturebetween_93190)(NimStringDesc* s, NIM_CHAR first, NIM_CHAR second, NI start);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(void, parsempfd_220797)(NimStringDesc* contenttype, NimStringDesc* body, table220013* Result);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* s, NimStringDesc* sub, NI start);
STRING_LITERAL(TMP1834, "?", 1);
STRING_LITERAL(TMP1836, "", 0);
STRING_LITERAL(TMP1839, "Expected \'=\' at ", 16);
STRING_LITERAL(TMP1840, " but got: ", 10);
STRING_LITERAL(TMP1846, "--", 2);
STRING_LITERAL(TMP1847, "Expected boundary. Got: ", 24);
STRING_LITERAL(TMP1850, "Expected : in headers.", 22);
static NIM_CONST TY76268 TMP1853 = {
0x00, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP1854, "content-disposition", 19);
static NIM_CONST TY76268 TMP1856 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x28,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP1865, "name", 4);
STRING_LITERAL(TMP1866, "\015\012", 2);
STRING_LITERAL(TMP1878, "boundary=", 9);
extern TFrame* frameptr_16442;
extern TNimType NTI21801; /* ref ValueError */
extern TNimType NTI3249; /* ValueError */
extern tgcheap47416 gch_47444;
TNimType NTI220007; /* tuple[fields: StringTableRef, body: string] */
extern TNimType NTI173014; /* StringTableRef */
extern TNimType NTI149; /* string */
extern TNimType NTI220013; /* Table */

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
	result = 0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (0 <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (0 <= (NI)(result ^ b));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	BeforeRet: ;
	return result;
}

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI LOC1;
	LOC1 = 0;
	{
		if (!(frameptr_16442 == NIM_NIL)) goto LA4;
		LOC1 = 0;
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = ((NI) ((NI16)((*frameptr_16442).calldepth + ((NI16) 1))));
	}
	LA2: ;
	(*s).calldepth = ((NI16) (LOC1));
	(*s).prev = frameptr_16442;
	frameptr_16442 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9;
		stackoverflow_19001();
	}
	LA9: ;
}

static N_INLINE(void, popFrame)(void) {
	frameptr_16442 = (*frameptr_16442).prev;
}

static N_INLINE(NI, skip_92873)(NimStringDesc* s, NimStringDesc* token, NI start) {
	NI result;
	nimfr("skip", "parseutils.nim")
	result = 0;
	{
		nimln(127, "parseutils.nim");
		while (1) {
			NIM_BOOL LOC3;
			NI TMP1833;
			nimln(127, "parseutils.nim");
			LOC3 = 0;
			nimln(127, "parseutils.nim");
			nimln(127, "parseutils.nim");
			LOC3 = (result < token->Sup.len);
			if (!(LOC3)) goto LA4;
			nimln(127, "parseutils.nim");
			nimln(127, "parseutils.nim");
			TMP1833 = addInt(result, start);
			if ((NU)((NI64)(TMP1833)) > (NU)(s->Sup.len)) raiseIndexError();
			if ((NU)(result) > (NU)(token->Sup.len)) raiseIndexError();
			LOC3 = ((NU8)(s->data[(NI64)(TMP1833)]) == (NU8)(token->data[result]));
			LA4: ;
			if (!LOC3) goto LA2;
			nimln(127, "parseutils.nim");
			result = addInt(result, 1);
		} LA2: ;
	}
	nimln(128, "parseutils.nim");
	{
		nimln(128, "parseutils.nim");
		nimln(128, "parseutils.nim");
		nimln(128, "parseutils.nim");
		if (!!((result == token->Sup.len))) goto LA7;
		nimln(128, "parseutils.nim");
		result = 0;
	}
	LA7: ;
	popFrame();
	return result;
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
	result = 0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (0 <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (0 <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	BeforeRet: ;
	return result;
}

static N_INLINE(NI, parseuntil_93107)(NimStringDesc* s, NimStringDesc** token, NIM_CHAR until, NI start) {
	NI result;
	NI i;
	NI TMP1837;
	NI TMP1838;
	nimfr("parseUntil", "parseutils.nim")
	result = 0;
	nimln(168, "parseutils.nim");
	i = start;
	{
		nimln(169, "parseutils.nim");
		while (1) {
			NIM_BOOL LOC3;
			nimln(169, "parseutils.nim");
			LOC3 = 0;
			nimln(169, "parseutils.nim");
			nimln(169, "parseutils.nim");
			LOC3 = (i < s->Sup.len);
			if (!(LOC3)) goto LA4;
			nimln(169, "parseutils.nim");
			nimln(169, "parseutils.nim");
			if ((NU)(i) > (NU)(s->Sup.len)) raiseIndexError();
			LOC3 = !(((NU8)(s->data[i]) == (NU8)(until)));
			LA4: ;
			if (!LOC3) goto LA2;
			nimln(169, "parseutils.nim");
			i = addInt(i, 1);
		} LA2: ;
	}
	nimln(170, "parseutils.nim");
	nimln(170, "parseutils.nim");
	TMP1837 = subInt(i, start);
	result = (NI64)(TMP1837);
	nimln(171, "parseutils.nim");
	nimln(171, "parseutils.nim");
	nimln(171, "parseutils.nim");
	TMP1838 = subInt(i, 1);
	unsureAsgnRef((void**) (&(*token)), copyStrLast(s, start, (NI64)(TMP1838)));
	popFrame();
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((NCSTRING) ((*src).data)), (NI64)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

static N_INLINE(tcell45335*, usrtocell_49046)(void* usr) {
	tcell45335* result;
	nimfr("usrToCell", "gc.nim")
	result = 0;
	nimln(118, "gc.nim");
	nimln(118, "gc.nim");
	nimln(118, "gc.nim");
	result = ((tcell45335*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tcell45335))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdzct_50604)(tcell45335* c) {
	nimfr("rtlAddZCT", "gc.nim")
	nimln(199, "gc.nim");
	addzct_49017((&gch_47444.Zct), c);
	popFrame();
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	nimfr("asgnRefNoCycle", "gc.nim")
	nimln(251, "gc.nim");
	{
		tcell45335* c;
		nimln(251, "gc.nim");
		nimln(251, "gc.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(252, "gc.nim");
		c = usrtocell_49046(src);
		nimln(169, "gc.nim");
		(*c).Refcount += 8;
	}
	LA3: ;
	nimln(254, "gc.nim");
	{
		tcell45335* c;
		nimln(254, "gc.nim");
		nimln(254, "gc.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		nimln(255, "gc.nim");
		c = usrtocell_49046((*dest));
		nimln(256, "gc.nim");
		{
			nimln(167, "gc.nim");
			(*c).Refcount -= 8;
			nimln(168, "gc.nim");
			if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA11;
			nimln(257, "gc.nim");
			rtladdzct_50604(c);
		}
		LA11: ;
	}
	LA7: ;
	nimln(258, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(void, parseurlquery_220034)(NimStringDesc* query, stringtableobj173012** result) {
	NI i;
	nimfr("parseUrlQuery", "utils.nim")
	nimln(10, "utils.nim");
	i = 0;
	nimln(11, "utils.nim");
	i = skip_92873(query, ((NimStringDesc*) &TMP1834), 0);
	{
		nimln(12, "utils.nim");
		while (1) {
			NI TMP1835;
			NimStringDesc* key;
			NimStringDesc* val;
			NI LOC3;
			NI LOC11;
			NimStringDesc* LOC12;
			NimStringDesc* LOC13;
			nimln(12, "utils.nim");
			nimln(12, "utils.nim");
			nimln(12, "utils.nim");
			TMP1835 = subInt(query->Sup.len, 1);
			if (!(i < (NI64)(TMP1835))) goto LA2;
			nimln(13, "utils.nim");
			key = copyString(((NimStringDesc*) &TMP1836));
			nimln(14, "utils.nim");
			val = copyString(((NimStringDesc*) &TMP1836));
			nimln(15, "utils.nim");
			nimln(15, "utils.nim");
			LOC3 = 0;
			LOC3 = parseuntil_93107(query, (&key), 61, i);
			i = addInt(i, LOC3);
			nimln(16, "utils.nim");
			{
				valueerror3249* e_220058;
				NimStringDesc* LOC8;
				NimStringDesc* LOC9;
				NimStringDesc* LOC10;
				nimln(16, "utils.nim");
				nimln(16, "utils.nim");
				if ((NU)(i) > (NU)(query->Sup.len)) raiseIndexError();
				if (!!(((NU8)(query->data[i]) == (NU8)(61)))) goto LA6;
				e_220058 = 0;
				nimln(2149, "system.nim");
				e_220058 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
				(*e_220058).Sup.Sup.m_type = (&NTI3249);
				nimln(2150, "system.nim");
				nimln(18, "utils.nim");
				LOC8 = 0;
				nimln(17, "utils.nim");
				LOC9 = 0;
				LOC9 = nimIntToStr(i);
				nimln(18, "utils.nim");
				if ((NU)(i) > (NU)(query->Sup.len)) raiseIndexError();
				LOC10 = 0;
				LOC10 = nimCharToStr(query->data[i]);
				LOC8 = rawNewString(LOC9->Sup.len + LOC10->Sup.len + 26);
appendString(LOC8, ((NimStringDesc*) &TMP1839));
appendString(LOC8, LOC9);
appendString(LOC8, ((NimStringDesc*) &TMP1840));
appendString(LOC8, LOC10);
				asgnRefNoCycle((void**) (&(*e_220058).Sup.message), LOC8);
				nimln(17, "utils.nim");
				raiseException((Exception*)e_220058, "ValueError");
			}
			LA6: ;
			nimln(19, "utils.nim");
			i = addInt(i, 1);
			nimln(20, "utils.nim");
			nimln(20, "utils.nim");
			LOC11 = 0;
			LOC11 = parseuntil_93107(query, (&val), 38, i);
			i = addInt(i, LOC11);
			nimln(21, "utils.nim");
			i = addInt(i, 1);
			nimln(22, "utils.nim");
			nimln(22, "utils.nim");
			LOC12 = 0;
			LOC12 = decodeurl_218207(key);
			nimln(22, "utils.nim");
			LOC13 = 0;
			LOC13 = decodeurl_218207(val);
			nstPut((*result), LOC12, LOC13);
		} LA2: ;
	}
	popFrame();
}

static N_INLINE(NI, skipwhitespace_92830)(NimStringDesc* s, NI start) {
	NI result;
	nimfr("skipWhitespace", "parseutils.nim")
	result = 0;
	{
		nimln(122, "parseutils.nim");
		while (1) {
			NI TMP1849;
			nimln(122, "parseutils.nim");
			nimln(122, "parseutils.nim");
			TMP1849 = addInt(start, result);
			if ((NU)((NI64)(TMP1849)) > (NU)(s->Sup.len)) raiseIndexError();
			if (!(((NU8)(s->data[(NI64)(TMP1849)])) == ((NU8)(32)) || ((NU8)(s->data[(NI64)(TMP1849)])) == ((NU8)(9)) || ((NU8)(s->data[(NI64)(TMP1849)])) == ((NU8)(11)) || ((NU8)(s->data[(NI64)(TMP1849)])) == ((NU8)(13)) || ((NU8)(s->data[(NI64)(TMP1849)])) == ((NU8)(10)) || ((NU8)(s->data[(NI64)(TMP1849)])) == ((NU8)(12)))) goto LA2;
			nimln(122, "parseutils.nim");
			result = addInt(result, 1);
		} LA2: ;
	}
	popFrame();
	return result;
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell45335* c;
	nimfr("nimGCunrefNoCycle", "gc.nim")
	nimln(233, "gc.nim");
	c = usrtocell_49046(p);
	nimln(235, "gc.nim");
	{
		nimln(167, "gc.nim");
		(*c).Refcount -= 8;
		nimln(168, "gc.nim");
		if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA3;
		nimln(236, "gc.nim");
		rtladdzct_50604(c);
	}
	LA3: ;
	popFrame();
}

static N_INLINE(NI, parseuntil_93058)(NimStringDesc* s, NimStringDesc** token, TY76268 until, NI start) {
	NI result;
	NI i;
	NI TMP1851;
	NI TMP1852;
	nimfr("parseUntil", "parseutils.nim")
	result = 0;
	nimln(158, "parseutils.nim");
	i = start;
	{
		nimln(159, "parseutils.nim");
		while (1) {
			NIM_BOOL LOC3;
			nimln(159, "parseutils.nim");
			LOC3 = 0;
			nimln(159, "parseutils.nim");
			nimln(159, "parseutils.nim");
			LOC3 = (i < s->Sup.len);
			if (!(LOC3)) goto LA4;
			nimln(159, "parseutils.nim");
			nimln(159, "parseutils.nim");
			if ((NU)(i) > (NU)(s->Sup.len)) raiseIndexError();
			LOC3 = !(((until[((NU8)(s->data[i]))/8] &(1<<(((NU8)(s->data[i]))%8)))!=0));
			LA4: ;
			if (!LOC3) goto LA2;
			nimln(159, "parseutils.nim");
			i = addInt(i, 1);
		} LA2: ;
	}
	nimln(160, "parseutils.nim");
	nimln(160, "parseutils.nim");
	TMP1851 = subInt(i, start);
	result = (NI64)(TMP1851);
	nimln(161, "parseutils.nim");
	nimln(161, "parseutils.nim");
	nimln(161, "parseutils.nim");
	TMP1852 = subInt(i, 1);
	unsureAsgnRef((void**) (&(*token)), copyStrLast(s, start, (NI64)(TMP1852)));
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI64)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, parsemultipart_220149)(NimStringDesc* body, NimStringDesc* boundary, table220013* Result) {
	NimStringDesc* mboundary;
	NimStringDesc* LOC1;
	NI i;
	NIM_BOOL partsleft;
	nimfr("parseMultiPart", "utils.nim")
	nimln(41, "utils.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI220013));
	inittable_220158(64, Result);
	nimln(42, "utils.nim");
	nimln(42, "utils.nim");
	LOC1 = 0;
	LOC1 = rawNewString(boundary->Sup.len + 2);
appendString(LOC1, ((NimStringDesc*) &TMP1846));
appendString(LOC1, boundary);
	mboundary = LOC1;
	nimln(44, "utils.nim");
	i = 0;
	nimln(45, "utils.nim");
	partsleft = NIM_TRUE;
	{
		nimln(46, "utils.nim");
		while (1) {
			NI firstboundary;
			NI LOC10;
			TY220007 newpart;
			TY185182 LOC11;
			NimStringDesc* name;
			NI LOC65;
			if (!partsleft) goto LA3;
			nimln(47, "utils.nim");
			firstboundary = skip_92873(body, mboundary, i);
			nimln(48, "utils.nim");
			{
				valueerror3249* e_220227;
				NimStringDesc* LOC8;
				NI TMP1848;
				NimStringDesc* LOC9;
				nimln(48, "utils.nim");
				if (!(firstboundary == 0)) goto LA6;
				e_220227 = 0;
				nimln(2149, "system.nim");
				e_220227 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
				(*e_220227).Sup.Sup.m_type = (&NTI3249);
				nimln(2150, "system.nim");
				nimln(49, "utils.nim");
				LOC8 = 0;
				nimln(49, "utils.nim");
				nimln(49, "utils.nim");
				TMP1848 = addInt(i, 25);
				LOC9 = 0;
				LOC9 = copyStrLast(body, i, (NI64)(TMP1848));
				LOC8 = rawNewString(LOC9->Sup.len + 24);
appendString(LOC8, ((NimStringDesc*) &TMP1847));
appendString(LOC8, LOC9);
				asgnRefNoCycle((void**) (&(*e_220227).Sup.message), LOC8);
				nimln(49, "utils.nim");
				raiseException((Exception*)e_220227, "ValueError");
			}
			LA6: ;
			nimln(50, "utils.nim");
			i = addInt(i, firstboundary);
			nimln(51, "utils.nim");
			nimln(51, "utils.nim");
			LOC10 = 0;
			LOC10 = skipwhitespace_92830(body, i);
			i = addInt(i, LOC10);
			memset((void*)(&newpart), 0, sizeof(newpart));
			nimln(54, "utils.nim");
			nimln(54, "utils.nim");
			memset((void*)LOC11, 0, sizeof(LOC11));
			newpart.Field0 = nstnewStringTableWithTableConstr(LOC11, 0, ((NU8) 0));
			newpart.Field1 = copyString(((NimStringDesc*) &TMP1836));
			nimln(55, "utils.nim");
			name = copyString(((NimStringDesc*) &TMP1836));
			{
				nimln(56, "utils.nim");
				while (1) {
					NimStringDesc* hname;
					NI LOC18;
					NI LOC24;
					NimStringDesc* hvalue;
					NI LOC25;
					NI LOC45;
					nimln(57, "utils.nim");
					{
						nimln(57, "utils.nim");
						if ((NU)(i) > (NU)(body->Sup.len)) raiseIndexError();
						if (!((NU8)(body->data[i]) == (NU8)(13))) goto LA16;
						nimln(58, "utils.nim");
						i = addInt(i, 2);
						nimln(59, "utils.nim");
						goto LA12;
					}
					LA16: ;
					nimln(60, "utils.nim");
					hname = copyString(((NimStringDesc*) &TMP1836));
					nimln(61, "utils.nim");
					nimln(61, "utils.nim");
					LOC18 = 0;
					LOC18 = parseuntil_93107(body, (&hname), 58, i);
					i = addInt(i, LOC18);
					nimln(62, "utils.nim");
					{
						valueerror3249* e_220310;
						NimStringDesc* LOC23;
						nimln(62, "utils.nim");
						nimln(62, "utils.nim");
						if ((NU)(i) > (NU)(body->Sup.len)) raiseIndexError();
						if (!!(((NU8)(body->data[i]) == (NU8)(58)))) goto LA21;
						e_220310 = 0;
						nimln(2149, "system.nim");
						e_220310 = (valueerror3249*) newObj((&NTI21801), sizeof(valueerror3249));
						(*e_220310).Sup.Sup.m_type = (&NTI3249);
						nimln(2150, "system.nim");
						LOC23 = 0;
						LOC23 = (*e_220310).Sup.message; (*e_220310).Sup.message = copyStringRC1(((NimStringDesc*) &TMP1850));
						if (LOC23) nimGCunrefNoCycle(LOC23);
						nimln(63, "utils.nim");
						raiseException((Exception*)e_220310, "ValueError");
					}
					LA21: ;
					nimln(64, "utils.nim");
					i = addInt(i, 1);
					nimln(65, "utils.nim");
					nimln(65, "utils.nim");
					LOC24 = 0;
					LOC24 = skipwhitespace_92830(body, i);
					i = addInt(i, LOC24);
					nimln(66, "utils.nim");
					hvalue = copyString(((NimStringDesc*) &TMP1836));
					nimln(67, "utils.nim");
					nimln(67, "utils.nim");
					LOC25 = 0;
					LOC25 = parseuntil_93058(body, (&hvalue), TMP1853, i);
					i = addInt(i, LOC25);
					nimln(68, "utils.nim");
					{
						NimStringDesc* LOC28;
						NI hcount_220368;
						nimln(68, "utils.nim");
						nimln(68, "utils.nim");
						LOC28 = 0;
						LOC28 = nsuToLowerStr(hname);
						if (!eqStrings(LOC28, ((NimStringDesc*) &TMP1854))) goto LA29;
						nimln(25, "utils.nim");
						hcount_220368 = 0;
						{
							nimln(26, "utils.nim");
							while (1) {
								NI TMP1855;
								NimStringDesc* key_220370;
								NI LOC33;
								nimln(26, "utils.nim");
								nimln(26, "utils.nim");
								nimln(26, "utils.nim");
								TMP1855 = subInt(hvalue->Sup.len, 1);
								if (!(hcount_220368 < (NI64)(TMP1855))) goto LA32;
								nimln(27, "utils.nim");
								key_220370 = copyString(((NimStringDesc*) &TMP1836));
								nimln(28, "utils.nim");
								nimln(28, "utils.nim");
								LOC33 = 0;
								LOC33 = parseuntil_93058(hvalue, (&key_220370), TMP1856, hcount_220368);
								hcount_220368 = addInt(hcount_220368, LOC33);
								nimln(29, "utils.nim");
								{
									NimStringDesc* value_220372;
									NI TMP1864;
									NI LOC38;
									nimln(29, "utils.nim");
									if ((NU)(hcount_220368) > (NU)(hvalue->Sup.len)) raiseIndexError();
									if (!((NU8)(hvalue->data[hcount_220368]) == (NU8)(61))) goto LA36;
									nimln(30, "utils.nim");
									value_220372 = capturebetween_93190(hvalue, 34, 0, hcount_220368);
									nimln(31, "utils.nim");
									nimln(31, "utils.nim");
									nimln(31, "utils.nim");
									TMP1864 = addInt(value_220372->Sup.len, 2);
									hcount_220368 = addInt(hcount_220368, (NI64)(TMP1864));
									nimln(32, "utils.nim");
									hcount_220368 = addInt(hcount_220368, 1);
									nimln(33, "utils.nim");
									nimln(33, "utils.nim");
									LOC38 = 0;
									LOC38 = skipwhitespace_92830(hvalue, hcount_220368);
									hcount_220368 = addInt(hcount_220368, LOC38);
									nimln(34, "utils.nim");
									{
										nimln(34, "utils.nim");
										if (!eqStrings(key_220370, ((NimStringDesc*) &TMP1865))) goto LA41;
										nimln(34, "utils.nim");
										name = copyString(value_220372);
									}
									LA41: ;
									nimln(35, "utils.nim");
									nstPut(newpart.Field0, key_220370, value_220372);
								}
								goto LA34;
								LA36: ;
								{
									NI LOC44;
									nimln(37, "utils.nim");
									hcount_220368 = addInt(hcount_220368, 1);
									nimln(38, "utils.nim");
									nimln(38, "utils.nim");
									LOC44 = 0;
									LOC44 = skipwhitespace_92830(hvalue, hcount_220368);
									hcount_220368 = addInt(hcount_220368, LOC44);
								}
								LA34: ;
							} LA32: ;
						}
					}
					LA29: ;
					nimln(70, "utils.nim");
					nstPut(newpart.Field0, hname, hvalue);
					nimln(71, "utils.nim");
					nimln(71, "utils.nim");
					LOC45 = 0;
					LOC45 = skip_92873(body, ((NimStringDesc*) &TMP1866), i);
					i = addInt(i, LOC45);
				}
			} LA12: ;
			{
				nimln(74, "utils.nim");
				while (1) {
					nimln(75, "utils.nim");
					{
						NIM_BOOL LOC50;
						NI TMP1867;
						nimln(75, "utils.nim");
						LOC50 = 0;
						nimln(75, "utils.nim");
						if ((NU)(i) > (NU)(body->Sup.len)) raiseIndexError();
						LOC50 = ((NU8)(body->data[i]) == (NU8)(13));
						if (!(LOC50)) goto LA51;
						nimln(75, "utils.nim");
						nimln(75, "utils.nim");
						TMP1867 = addInt(i, 1);
						if ((NU)((NI64)(TMP1867)) > (NU)(body->Sup.len)) raiseIndexError();
						LOC50 = ((NU8)(body->data[(NI64)(TMP1867)]) == (NU8)(10));
						LA51: ;
						if (!LOC50) goto LA52;
						nimln(76, "utils.nim");
						{
							NI TMP1868;
							NI LOC56;
							nimln(76, "utils.nim");
							nimln(76, "utils.nim");
							nimln(76, "utils.nim");
							nimln(76, "utils.nim");
							TMP1868 = addInt(i, 2);
							LOC56 = 0;
							LOC56 = skip_92873(body, mboundary, (NI64)(TMP1868));
							if (!!((LOC56 == 0))) goto LA57;
							nimln(77, "utils.nim");
							{
								NI TMP1869;
								NI TMP1870;
								NI LOC61;
								nimln(77, "utils.nim");
								nimln(77, "utils.nim");
								nimln(77, "utils.nim");
								nimln(77, "utils.nim");
								nimln(77, "utils.nim");
								TMP1869 = addInt(i, 2);
								nimln(77, "utils.nim");
								TMP1870 = addInt((NI64)(TMP1869), mboundary->Sup.len);
								LOC61 = 0;
								LOC61 = skip_92873(body, ((NimStringDesc*) &TMP1846), (NI64)(TMP1870));
								if (!!((LOC61 == 0))) goto LA62;
								nimln(78, "utils.nim");
								partsleft = NIM_FALSE;
								nimln(79, "utils.nim");
								goto LA46;
							}
							LA62: ;
							nimln(80, "utils.nim");
							goto LA46;
						}
						LA57: ;
					}
					goto LA48;
					LA52: ;
					{
						nimln(82, "utils.nim");
						if ((NU)(i) > (NU)(body->Sup.len)) raiseIndexError();
						newpart.Field1 = addChar(newpart.Field1, body->data[i]);
					}
					LA48: ;
					nimln(83, "utils.nim");
					i = addInt(i, 1);
				}
			} LA46: ;
			nimln(84, "utils.nim");
			nimln(84, "utils.nim");
			LOC65 = 0;
			LOC65 = skipwhitespace_92830(body, i);
			i = addInt(i, LOC65);
			nimln(86, "utils.nim");
			HEX5BHEX5DHEX3D_220487(Result, name, newpart);
		} LA3: ;
	}
	popFrame();
}

N_NIMCALL(void, parsempfd_220797)(NimStringDesc* contenttype, NimStringDesc* body, table220013* Result) {
	NI boundaryeqindex;
	NI LOC1;
	NI TMP1879;
	NimStringDesc* boundary;
	NI TMP1880;
	nimfr("parseMPFD", "utils.nim")
	nimln(89, "utils.nim");
	nimln(89, "utils.nim");
	nimln(89, "utils.nim");
	LOC1 = 0;
	LOC1 = nsuFindStr(contenttype, ((NimStringDesc*) &TMP1878), 0);
	TMP1879 = addInt(LOC1, 9);
	boundaryeqindex = (NI64)(TMP1879);
	nimln(90, "utils.nim");
	nimln(90, "utils.nim");
	nimln(90, "utils.nim");
	nimln(90, "utils.nim");
	TMP1880 = subInt(contenttype->Sup.len, 1);
	boundary = copyStrLast(contenttype, boundaryeqindex, (NI64)(TMP1880));
	nimln(91, "utils.nim");
	nimln(91, "utils.nim");
	chckNil((void*)Result);
	genericReset((void*)Result, (&NTI220013));
	parsemultipart_220149(body, boundary, Result);
	goto BeforeRet;
	BeforeRet: ;
	popFrame();
}
NIM_EXTERNC N_NOINLINE(void, jester_utilsInit)(void) {
	nimfr("utils", "utils.nim")
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, jester_utilsDatInit)(void) {
static TNimNode* TMP1842[2];
static TNimNode TMP1759[3];
NTI220007.size = sizeof(TY220007);
NTI220007.kind = 18;
NTI220007.base = 0;
TMP1842[0] = &TMP1759[1];
TMP1759[1].kind = 1;
TMP1759[1].offset = offsetof(TY220007, Field0);
TMP1759[1].typ = (&NTI173014);
TMP1759[1].name = "Field0";
TMP1842[1] = &TMP1759[2];
TMP1759[2].kind = 1;
TMP1759[2].offset = offsetof(TY220007, Field1);
TMP1759[2].typ = (&NTI149);
TMP1759[2].name = "Field1";
TMP1759[0].len = 2; TMP1759[0].kind = 2; TMP1759[0].sons = &TMP1842[0];
NTI220007.node = &TMP1759[0];
}

